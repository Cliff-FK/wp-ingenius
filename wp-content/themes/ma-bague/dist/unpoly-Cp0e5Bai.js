(()=>{var pt={1860:(i,a,r)=>{r.r(a)},8711:(i,a,r)=>{r.r(a)},4432:(i,a,r)=>{r.r(a)},2065:(i,a,r)=>{r.r(a)},35:(i,a,r)=>{r.r(a)},5074:(i,a,r)=>{r.r(a)},2811:()=>{up.browser={submitForm:function(i){i.submit()},canPushState:function(){return up.protocol.initialRequestMethod()==="GET"},canJQuery:function(){return!!window.jQuery},assertConfirmed:function(i){if(i.confirm&&!window.confirm(i.confirm))throw new up.Aborted("User canceled action");return!0},popCookie:function(i){var r;let a=(r=document.cookie.match(new RegExp(i+"=(\\w+)")))==null?void 0:r[1];if(a)return document.cookie=i+"=;Max-Age=0;Path=/",a},canHasSelector:up.util.memoize(()=>CSS.supports("selector(:has(*))"))}},6346:()=>{const i=up.element;up.BodyShifter=class{constructor(){this.t=new Set,this.i=0,this.o=[]}lowerStack(){--this.i==0&&this.u()}raiseStack(){++this.i==1&&this.h()}onAnchoredElementInserted(r){return this.t.add(r),this.l(r,"right"),()=>this.t.delete(r)}p(){return this.m&&this.i>0}h(){this.m=up.viewport.rootScrollbarWidth(),this.o.push(i.setTemporaryStyle(i.root,{"--up-scrollbar-width":this.m+"px"})),this.l(document.body,"padding-right");for(let r of this.t)this.l(r,"right")}l(r,t){if(!this.p())return;let e=i.style(r,t);this.o.push(i.setTemporaryStyle(r,{["--up-original-"+t]:e}),i.addTemporaryClass(r,"up-scrollbar-away"))}u(){let r;for(;r=this.o.pop();)r()}}},7948:()=>{const i=up.util,a=up.element;up.Change.Addition=class extends up.Change{constructor(t){super(t),this.v=t.acceptLayer,this._=t.dismissLayer,this.k=t.eventPlans||[],this.S=t.response}handleLayerChangeRequests(){this.layer.isOverlay()&&(this.tryAcceptLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryAcceptForLocation(this.responseOption()),this.abortWhenLayerClosed(),this.tryDismissLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryDismissForLocation(this.responseOption()),this.abortWhenLayerClosed()),this.layer.asCurrent(()=>{for(let t of this.k)up.emit({...t,...this.responseOption()}),this.abortWhenLayerClosed()})}tryAcceptLayerFromServer(){i.isDefined(this.v)&&this.layer.isOverlay()&&this.layer.accept(this.v,this.responseOption())}tryDismissLayerFromServer(){i.isDefined(this._)&&this.layer.isOverlay()&&this.layer.dismiss(this._,this.responseOption())}abortWhenLayerClosed(t=this.layer){if(t.isClosed())throw new up.Aborted("Layer was closed")}setSource({oldElement:t,newElement:e,source:n}){n==="keep"&&(n=t&&up.fragment.source(t)),n&&a.setMissingAttr(e,"up-source",up.fragment.normalizeSource(n))}setTime({newElement:t,time:e}){a.setMissingAttr(t,"up-time",!!e&&e.toUTCString())}setETag({newElement:t,etag:e}){a.setMissingAttr(t,"up-etag",e||!1)}setReloadAttrs(t){this.setSource(t),this.setTime(t),this.setETag(t)}responseOption(){return{response:this.S}}executeSteps(t,e,n){return new up.Change.UpdateSteps({steps:t,noneOptions:n}).execute(e)}}},3030:()=>{const i=up.util;up.Change=class{constructor(r){this.options=r}execute(){throw new up.NotImplemented}onFinished(r){var t,e;return(e=(t=this.options).onFinished)==null?void 0:e.call(t,r)}improveHistoryValue(r,t){return r===!1||i.isString(r)?r:t}deriveFailOptions(){return up.RenderOptions.deriveFailOptions(this.options)}}},7422:()=>{const i=up.util;up.Change.CloseLayer=class extends up.Change.Removal{constructor(r){super(r),this.O=r.verb,this.C=up.layer.get(r),this.F=r.origin,this.T=r.value,this.R=r.preventable??!0,this.S=r.response,this.L=r.history??!0}execute(){if(!this.C.isOpen())return Promise.resolve();if(up.browser.assertConfirmed(this.options),this.A().defaultPrevented&&this.R)throw new up.Aborted("Close event was prevented");this.P(),up.fragment.abort({reason:"Layer is closing",layer:this.C});const{parent:r}=this.C;this.C.peel(),this.C.stack.remove(this.C),this.L&&r.restoreHistory(),this.$(r),this.C.teardownHandlers(),this.C.destroyElements(this.options),this.D(r)}A(){let r=this.C.emit(this.M(`up:layer:${this.O}`),{callback:this.C.callback(`on${i.upperCaseFirst(this.O)}`),log:[`Will ${this.O} ${this.C} with value %o`,this.T]});return this.T=r.value,r}P(){let r=this.M(`up:layer:${this.O}ing`);this.C.emit(r,{log:!1})}D(r){const t=`${this.O}ed`,e=i.upperCaseFirst(t);return this.C.emit(this.M(`up:layer:${t}`),{baseLayer:r,callback:this.C.callback(`on${e}`),ensureBubbles:!0,log:[`${e} ${this.C} with value %o`,this.T]})}M(r){return up.event.build(r,{layer:this.C,value:this.T,origin:this.F,response:this.S})}$(r){var e;this.C.overlayFocus.teardown(),(e=r.overlayFocus)==null||e.moveToFront();let t=this.C.origin||r.element;up.focus(t,{preventScroll:!0})}}},8228:()=>{up.Change.DestroyFragment=class extends up.Change.Removal{constructor(a){super(a),this.C=up.layer.get(a)||up.layer.current,this.H=this.options.element,this.N=this.options.animation,this.j=this.options.log}execute(){this.q=this.H.parentNode,up.fragment.markAsDestroying(this.H),up.motion.willAnimate(this.H,this.N,this.options)?this.B():this.U()}async B(){this.I(),await this.K(),this.V(),this.onFinished()}U(){this.V(),this.I(),this.onFinished()}K(){return up.motion.animate(this.H,this.N,this.options)}V(){this.C.asCurrent(()=>{up.fragment.abort(this.H),up.script.clean(this.H,{layer:this.C}),up.element.cleanJQuery(this.H),this.H.remove()})}I(){up.fragment.emitDestroyed(this.H,{parent:this.q,log:this.j})}}},9005:()=>{var i;const a=up.util;up.Change.FromContent=(i=class extends up.Change{constructor(t){super(t),this.F=t.origin,this.X=t.preview,this.W=up.layer.getAll(t)}J(){let t=[];return this.G(),this.Y(),this.Z(t,this.W,this.options.target),this.Z(t,this.W,this.options.fallback),t}tt(t){return t==="new"||t.isOpen()}G(){this.W=a.filter(this.W,this.tt)}Z(t,e,n){for(let s of e)for(let u of this.et(n,s)){const f={...this.options,target:u,layer:s,defaultPlacement:this.nt()},w=s==="new"?new up.Change.OpenLayer(f):new up.Change.UpdateLayer(f);t.push(w)}}et(t,e){return up.fragment.expandTargets(t,{layer:e,mode:this.options.mode,origin:this.F})}execute(){return this.options.preload?Promise.resolve():this.it(this.st.bind(this))||this.rt()}st(t){let e=t.execute(this.ot(),this.ut.bind(this,t));return e.options=this.options,e}ht(t){return!(t instanceof up.CannotMatch)}ut(t){var s,u;let e=this.J()[0];t!==e&&up.puts("up.render()",'Could not match primary target "%s". Updating a fallback target "%s".',e.target,t.target);let{assets:n}=this.ot();n&&up.script.assertAssetsOK(n,t.options),(u=(s=this.options).onRender)==null||u.call(s)}ot(){var e,n;if(this.X)return;const t=a.pick(this.options,["target","content","fragment","document","html","cspNonces","origin"]);return(n=(e=up.migrate).handleResponseDocOptions)==null||n.call(e,t),this.nt()==="content"&&(t.target=this.ct(t.target)),new up.ResponseDoc(t)}Y(){var e;if(this.X)return;let t=this.ot();this.options.fragment&&((e=this.options).target||(e.target=t.rootSelector())),this.options.title=this.improveHistoryValue(this.options.title,t.title),this.options.metaTags=this.improveHistoryValue(this.options.metaTags,t.metaTags),this.options.lang=this.improveHistoryValue(this.options.lang,t.lang)}nt(){if(!this.options.document&&!this.options.fragment)return"content"}ct(t){let e=this.W[0]||up.layer.root;return this.et(t||":main",e)[0]}getPreflightProps(t={}){return this.it(e=>e.getPreflightProps())||t.optional||this.lt()}lt(){this.ft("Could not find target in current page")}rt(){this.ft("Could not find common target in current page and response")}ft(t){if(this.J().length){const e=a.uniq(a.map(this.J(),"target")),n=up.layer.optionToString(this.options.layer);throw new up.CannotMatch([t+" (tried selectors %o in %s)",e,n])}if(this.W.length!==0)throw this.options.failPrefixForced?new up.CannotMatch("No target selector given for failed responses (https://unpoly.com/failed-responses)"):new up.CannotMatch("No target selector given");this.dt()}dt(){throw new up.CannotMatch("Could not find a layer to render in. You may have passed an unmatchable layer reference, or a detached element.")}it(t){for(let e of this.J())try{return t(e)}catch(n){if(this.ht(n))throw n}}},a.memoizeMethod(i.prototype,{J:!0,ot:!0,getPreflightProps:!0}),i)},278:()=>{var i;const a=up.util;up.Change.FromResponse=(i=class extends up.Change{constructor(t){super(t),this.S=t.response,this.gt=this.S.request}execute(){if(up.fragment.config.skipResponse(this.yt())?this.wt():this.gt.assertEmitted("up:fragment:loaded",{...this.yt(),callback:this.options.onLoaded,log:["Loaded fragment from %s",this.S.description],skip:()=>this.wt()}),a.evalOption(this.options.fail,this.S)??!this.S.ok)throw this.bt(this.deriveFailOptions());return this.bt(this.options)}wt(){up.puts("up.render()","Skipping "+this.S.description),this.options.target=":none",this.options.failTarget=":none"}bt(t){t.failPrefixForced&&up.puts("up.render()","Rendering failed response using fail-prefixed options (https://unpoly.com/failed-responses)"),this.vt(t),t.meta=this._t();let e=new up.Change.FromContent(t).execute();return e.finished=this.finish(e,t),e}async finish(t,e){return t=await t.finished,up.fragment.shouldRevalidate(this.gt,this.S,e)&&(t=await this.kt(t,e)),t}async kt(t,e){let n=e.target,s=t.target;if(/:(before|after)/.test(n))up.warn("up.render()","Cannot revalidate cache when prepending/appending (target %s)",n);else{up.puts("up.render()",'Revalidating cached response for target "%s"',s);let u=await up.reload(s,{...e,preferOldElements:t.fragments,layer:t.layer,onFinished:null,scroll:!1,focus:"keep",transition:!1,cache:!1,confirm:!1,feedback:!1,abort:!1,expiredResponse:this.S});u.none||(t=u)}return t}yt(){const{expiredResponse:t}=this.options;return{request:this.gt,response:this.S,renderOptions:this.options,revalidating:!!t,expiredResponse:t}}_t(){var e,n;let t={revalidating:!!this.options.expiredResponse};return(n=(e=up.migrate).processCompilerPassMeta)==null||n.call(e,t,this.S),t}vt(t){const e=this.S.url;let n=e,s=this.gt.hash;s&&(t.hash=s,n+=s),this.S.method==="GET"?t.source=this.improveHistoryValue(t.source,e):(t.source=this.improveHistoryValue(t.source,"keep"),t.history=!!t.location),t.location=this.improveHistoryValue(t.location,n),t.title=this.improveHistoryValue(t.title,this.S.title),t.eventPlans=this.S.eventPlans;let u=this.S.target;u&&(t.target=u),t.acceptLayer=this.S.acceptLayer,t.dismissLayer=this.S.dismissLayer,t.document=this.S.text,this.S.none&&(t.target=":none"),t.context=a.merge(t.context,this.S.context),t.cspNonces=this.S.cspNonces,t.time??(t.time=this.S.lastModified),t.etag??(t.etag=this.S.etag)}},a.memoizeMethod(i.prototype,{yt:!0}),i)},2200:()=>{var i;const a=up.util;up.Change.FromURL=(i=class extends up.Change{execute(){var e,n;let t=this.St();return t?(up.puts("up.render()",t),up.network.loadPage(this.options),a.unresolvablePromise()):(this.request=up.request(this.xt()),(n=(e=this.options).onRequest)==null||n.call(e,this.request),up.feedback.showAroundRequest(this.request,this.options),up.form.disableWhile(this.request,this.options),this.options.preload?this.request:a.always(this.request,s=>this.Et(s)))}St(){return a.isCrossOrigin(this.options.url)?"Loading cross-origin content in new page":this.options.history&&!up.browser.canPushState()?"Loading content in new page to restore history support":void 0}xt(){const t=this.Ot(this.options),e=this.Ot(this.deriveFailOptions(),{optional:!0});return{...this.options,...t,...a.renameKeys(e,up.fragment.failKey)}}getPreflightProps(){return this.xt()}Ot(t,e){return new up.Change.FromContent({...t,preview:!0}).getPreflightProps(e)}Et(t){return t instanceof up.Response?this.Ct(t):this.Ft(t)}Ct(t){return new up.Change.FromResponse({...this.options,response:t}).execute()}Ft(t){throw t instanceof up.Offline&&this.request.emit("up:fragment:offline",{callback:this.options.onOffline,renderOptions:this.options,retry:e=>up.render({...this.options,...e}),log:["Cannot load fragment from %s: %s",this.request.description,t.reason]}),t}},a.memoizeMethod(i.prototype,{xt:!0}),i)},7050:()=>{let i=up.util;up.Change.OpenLayer=class extends up.Change.Addition{constructor(r){super(r),this.target=r.target,this.F=r.origin,this.Tt=r.baseLayer}getPreflightProps(){return{mode:this.options.mode,context:this.Rt().context,origin:this.options.origin,target:this.target,layer:this.Tt,fragments:i.compact([up.fragment.get(":main",{layer:this.Tt})]),newLayer:!0}}execute(r,t){this.responseDoc=r,this.Lt(),t(),this.At();let e=this.layer.on("up:layer:accepting up:layer:dimissing",this.Pt.bind(this));try{return this.$t(),this.Pt(),up.RenderResult.both(this.Dt,this.Mt)}finally{e()}}Lt(){if(this.target===":none"?this.Ht=document.createElement("up-none"):this.Ht=this.responseDoc.select(this.target),!this.Ht||this.Tt.isClosed())throw new up.CannotMatch}At(){up.puts("up.render()",`Opening element "${this.target}" in new overlay`),this.Nt(),this.layer=this.Rt(),this.Tt.peel({history:!this.layer.history}),up.layer.stack.push(this.layer),this.layer.createElements(),this.layer.setupHandlers()}$t(){this.jt(),this.handleLayerChangeRequests(),this.responseDoc.commitElement(this.Ht),this.layer.setContent(this.Ht),this.setReloadAttrs({newElement:this.Ht,source:this.options.source}),this.responseDoc.finalizeElement(this.Ht),this.Dt=new up.RenderResult({layer:this.layer,fragments:[this.Ht],target:this.target}),up.hello(this.layer.element,{...this.options,layer:this.layer}),this.qt(),this.Dt.finished=this.Bt(),this.layer.opening=!1,this.Ut(),this.abortWhenLayerClosed()}Pt(){if(this.Mt)return;let r=this.zt().other;this.Mt=this.executeSteps(r,this.responseDoc)}async Bt(){return await this.layer.startOpenAnimation(),this.abortWhenLayerClosed(),this.$(),this.Dt}Rt(){const r={...this.options,opening:!0};return up.layer.build(r,t=>this.options=up.RenderOptions.finalize(t))}jt(){var t;this.layer.history==="auto"&&(this.layer.history=up.fragment.hasAutoHistory([this.Ht],this.layer));let{parent:r}=this.layer;(t=this.layer).history&&(t.history=r.history),r.saveHistory(),this.layer.updateHistory(this.options)}$(){var r;(r=this.Tt.overlayFocus)==null||r.moveToBack(),this.layer.overlayFocus.moveToFront(),new up.FragmentFocus({fragment:this.Ht,layer:this.layer,autoMeans:["autofocus","layer"],inputDevice:this.options.inputDevice}).process(this.options.focus)}qt(){const r={...this.options,fragment:this.Ht,layer:this.layer,autoMeans:["hash","layer"]};new up.FragmentScrolling(r).process(this.options.scroll)}Nt(){up.event.assertEmitted("up:layer:open",{origin:this.F,baseLayer:this.Tt,layerOptions:this.options,log:"Opening new overlay"})}Ut(){this.layer.emit("up:layer:opened",{origin:this.F,callback:this.layer.callback("onOpened"),log:`Opened new ${this.layer}`})}zt(){return up.radio.hungrySteps(this.It())}It(){return{...this.options,layer:this.layer,history:this.layer.history}}}},1752:()=>{up.Change.Removal=class extends up.Change{}},9441:()=>{var i;const a=up.util;up.Change.UpdateLayer=(i=class extends up.Change.Addition{constructor(t){super(t=up.RenderOptions.finalize(t)),this.layer=t.layer,this.target=t.target,this.Kt=t.context,this.Vt=up.fragment.parseTargetSteps(this.target,this.options)}getPreflightProps(){return this.Xt(),{layer:this.layer,mode:this.layer.mode,context:a.merge(this.layer.context,this.Kt),origin:this.options.origin,target:this.Wt(),fragments:this.Jt(),newLayer:!1}}Wt(){return this.Xt(),up.fragment.targetForSteps(this.Vt)}Jt(){return this.Xt(),a.map(this.Vt,"oldElement")}execute(t,e){this.responseDoc=t,this.Lt(),e();let n=this.layer.on("up:layer:accepting up:layer:dimissing",this.Pt.bind(this));try{return this.Gt(),this.Pt(),up.RenderResult.both(this.Qt,this.Mt)}finally{n()}}Gt(){this.Vt.length&&up.puts("up.render()",`Updating "${this.Wt()}" in ${this.layer}`),this.Yt(),this.options.saveScroll&&up.viewport.saveScroll({layer:this.layer}),this.options.saveFocus&&up.viewport.saveFocus({layer:this.layer}),this.options.peel&&this.layer.peel({history:!this.Zt()}),this.options.abort!==!1&&up.fragment.abort(this.Jt(),{reason:"Fragment is being replaced"}),Object.assign(this.layer.context,this.Kt),this.Zt()&&this.layer.updateHistory(this.options),this.handleLayerChangeRequests(),this.Qt=this.executeSteps(this.Vt,this.responseDoc,this.options)}Pt(){if(this.Mt)return;let t=this.zt().other;this.Mt=this.executeSteps(t,this.responseDoc)}Xt(){this.te(),this.ee()}Lt(){this.te(),this.ne(),this.ee(),this.ie()}ne(){this.Vt.push(...this.zt().current)}te(){this.Vt=this.Vt.filter(t=>{const e=new up.FragmentFinder(a.pick(t,["selector","origin","layer","match","preferOldElements"]));if(t.oldElement||(t.oldElement=e.find()),t.oldElement)return!0;if(!t.maybe)throw new up.CannotMatch})}ie(){this.Vt=this.responseDoc.selectSteps(this.Vt)}ee(){this.Vt=up.fragment.compressNestedSteps(this.Vt)}zt(){return up.radio.hungrySteps(this.It())}Yt(){let t=up.FocusCapsule.preserve(this.layer);this.Vt.forEach((e,n)=>{e.focusCapsule=t,n>0&&(e.scroll=!1,e.focus=!1)})}Zt(){return a.evalAutoOption(this.options.history,this.se.bind(this))}se(){const t=a.map(this.Vt,"oldElement");return up.fragment.hasAutoHistory(t,this.layer)}It(){return{...this.options,layer:this.layer,history:this.Zt()}}},a.memoizeMethod(i.prototype,{Xt:!0,te:!0,Zt:!0,zt:!0}),i)},9489:()=>{const i=up.util,a=up.element;up.Change.UpdateSteps=class extends up.Change.Addition{constructor(t){super(t),this.re=t.noneOptions||{},this.Vt=i.copy(t.steps)}execute(t){var n;if(this.responseDoc=t,this.Vt=t.selectSteps(this.Vt),this.Vt=t.commitSteps(this.Vt),!this.Vt.length)return this.oe();this.renderResult=new up.RenderResult({layer:(n=this.Vt[0])==null?void 0:n.layer,target:up.fragment.targetForSteps(this.Vt)}),this.Vt.reverse();const e=this.Vt.map(s=>this.ue(s));return this.renderResult.finished=this.Bt(e),this.renderResult}oe(){return this.$(null,this.re),this.qt(null,this.re),up.RenderResult.buildNone()}async Bt(t){await Promise.all(t);for(let e of this.Vt)this.abortWhenLayerClosed(e.layer);return this.renderResult}ae(t){let e=t.matches("up-wrapper")?t.children:[t];this.renderResult.fragments.unshift(...e)}ue(t){switch(this.setReloadAttrs(t),t.placement){case"swap":if(this.he(t))return this.$(t.oldElement,t),this.qt(t.oldElement,t),Promise.resolve();{this.ce(t);const e=t.oldElement.parentNode,n={...t,beforeStart(){up.fragment.markAsDestroying(t.oldElement)},afterInsert:()=>{this.le(t),this.responseDoc.finalizeElement(t.newElement),this.pe(t),up.hello(t.newElement,t),this.ae(t.newElement)},beforeDetach:()=>{up.script.clean(t.oldElement,{layer:t.layer})},afterDetach(){up.element.cleanJQuery(),up.fragment.emitDestroyed(t.oldElement,{parent:e,log:!1})},scrollNew:()=>{this.$(t.newElement,t),this.qt(t.newElement,t)}};return up.morph(t.oldElement,t.newElement,t.transition,n)}case"content":{let e=a.wrapChildren(t.oldElement),n=a.wrapChildren(t.newElement),s={...t,placement:"swap",oldElement:e,newElement:n,focus:!1};return this.ue(s).then(()=>{a.unwrap(n),this.$(t.oldElement,t)})}case"before":case"after":{let e=a.wrapChildren(t.newElement),n=t.placement==="before"?"afterbegin":"beforeend";return t.oldElement.insertAdjacentElement(n,e),this.responseDoc.finalizeElement(e),up.hello(e,t),this.ae(e),this.$(e,t),this.qt(e,t),up.animate(e,t.transition,t).then(()=>a.unwrap(e))}default:up.fail("Unknown placement: %o",t.placement)}}he(t){if(!t.useKeep)return;const{oldElement:e,newElement:n}=t;let s;if(!a.booleanAttr(e,"up-keep"))return;let u=up.fragment.toTarget(e);const f={layer:t.layer};if(s=t.descendantsOnly?up.fragment.get(n,u,f):up.fragment.subtree(n,u,f)[0],s&&a.booleanAttr(s,"up-keep")!==!1){const w={oldElement:e,newElement:s,newData:up.script.data(s),renderOptions:t};if(!up.fragment.emitKeep(w).defaultPrevented)return w}}ce(t){const e=[];if(t.useKeep)for(let n of t.oldElement.querySelectorAll("[up-keep]")){let s=this.he({...t,oldElement:n,descendantsOnly:!0});if(s){const u=n.cloneNode(!0);n.insertAdjacentElement("beforebegin",u),n.classList.add("up-keeping"),up.script.disableSubtree(s.newElement);let f=up.viewport.subtree(s.oldElement);s.revivers=f.map(function(w){let A=up.viewport.copyCursorProps(w);return()=>up.viewport.copyCursorProps(A,w)}),this.fe(document.body)?s.newElement.replaceWith(n):document.body.append(n),e.push(s)}}t.keepPlans=e}le(t){for(let e of t.keepPlans){e.newElement.replaceWith(e.oldElement);for(let n of e.revivers)n()}}pe(t){for(let e of t.keepPlans)e.oldElement.classList.remove("up-keeping")}fe(t){return i.some(this.Vt,e=>e.oldElement.contains(t))}$(t,e){return new up.FragmentFocus({...e,fragment:t,autoMeans:up.fragment.config.autoFocus}).process(e.focus)}qt(t,e){return new up.FragmentScrolling({...e,fragment:t,autoMeans:up.fragment.config.autoScroll}).process(e.scroll)}}},1569:()=>{const i=up.util;up.CompilerPass=class{constructor(r,t,{layer:e,data:n,dataMap:s,meta:u}){e||(e=up.layer.get(r)||up.layer.current),this.de=r,this.me=t,this.C=e,this.ge=n,this.ye=s,u||(u={}),u.layer=e,this.we=u}run(){this.C.asCurrent(()=>{this.setCompileData();for(let r of this.me)this.be(r)})}setCompileData(){if(this.ge&&(this.de.upCompileData=this.ge),this.ye)for(let r in this.ye)for(let t of this.ve(r))t.upCompileData=this.ye[r]}be(r){var e,n;const t=this._e(r);if(t.length){if(r.isDefault||up.puts("up.hello()",'Compiling %d× "%s" on %s',t.length,r.selector,this.C),r.batch)this.ke(r,t);else for(let s of t)this.Se(r,s);return(n=(e=up.migrate).postCompile)==null?void 0:n.call(e,t,r)}}Se(r,t){const e=[t];if(r.length!==1){const u=up.script.data(t);e.push(u,this.we)}const n=this.xe(r,t,e);let s=this.Ee(n);s&&up.destructor(t,s)}ke(r,t){const e=[t];if(r.length!==1){const s=i.map(t,up.script.data);e.push(s,this.we)}const n=this.xe(r,t,e);this.Ee(n)&&up.fail("Compilers with { batch: true } cannot return destructors")}xe(r,t,e){return up.error.guard(()=>r.apply(t,e))}Ee(r){if(i.isFunction(r)||i.isArray(r)&&i.every(r,i.isFunction))return r}ve(r){return up.fragment.subtree(this.de,i.evalOption(r),{layer:this.C})}_e(r){let t=this.ve(r.selector);return i.filter(t,e=>{let n=e.upAppliedCompilers||(e.upAppliedCompilers=new Set);if(!n.has(r))return n.add(r),!0})}}},3742:()=>{const i=up.util,a=up.element;up.Config=class{constructor(t=()=>({})){this.Oe=t,this.reset(),document.addEventListener("up:framework:reset",()=>this.reset())}reset(){Object.assign(this,this.Oe())}matches(t,e){return t.matches(this.selector(e))}selector(t){let e=this[t],n=this["no"+i.upperCaseFirst(t)];return a.unionSelector(e,n)}selectorFn(t){return()=>this.selector(t)}}},2737:()=>{const i=up.util,a=up.element;up.CSSTransition=class{constructor(t,e,n){this.H=t,this.Ce=e,this.Fe=Object.keys(this.Ce),this.Te=n.finishEvent,this.Re=n.duration,this.Le=n.easing,this.Ae=!1}start(){return this.Fe.length===0?(this.Ae=!0,Promise.resolve()):(this.Pe=i.newDeferred(),this.$e(),this.De=new Date,this.Me(),this.He(),this.Ne(),this.je(),this.Pe)}He(){this.Te&&(this.qe=up.on(this.H,this.Te,this.Be.bind(this)))}Be(t){t.stopPropagation(),this.Bt()}Me(){this.Ue=i.timer(this.Re+100,()=>this.Bt())}ze(){clearTimeout(this.Ue)}Ne(){this.Ie=up.on(this.H,"transitionend",this.Ke.bind(this))}Ke(t){if(t.target!==this.H||new Date-this.De<=.25*this.Re)return;const e=t.propertyName;i.contains(this.Fe,e)&&this.Bt()}Bt(){var t,e;this.Ae||(this.Ae=!0,this.ze(),(t=this.qe)==null||t.call(this),(e=this.Ie)==null||e.call(this),a.concludeCSSTransition(this.H),this.Ve(),this.Pe.resolve())}$e(){const t=a.style(this.H,["transition-property","transition-duration","transition-delay","transition-timing-function"]);if(a.hasCSSTransition(t)){if(t["transition-property"]!=="all"){const e=t["transition-property"].split(/\s*,\s*/),n=a.style(this.H,e);this.Xe=a.setTemporaryStyle(this.H,n)}this.We=a.concludeCSSTransition(this.H)}}Ve(){var t,e;(t=this.Xe)==null||t.call(this),(e=this.We)==null||e.call(this)}je(){a.setStyle(this.H,{"transition-property":this.Fe.join(),"transition-duration":`${this.Re}ms`,"transition-timing-function":this.Le}),a.setStyle(this.H,this.Ce)}}},3635:()=>{const i=up.util;up.DestructorPass=class{constructor(r,t){this.Je=r,this.Ge=t}run(){for(let r of this.Qe()){let t=i.pluckKey(r,"upDestructors");if(t)for(let e of t)this.Ye(e,r);r.classList.remove("up-can-clean")}}Qe(){const r={...this.Ge,destroying:!0};return up.fragment.subtree(this.Je,".up-can-clean",r)}Ye(r,t){up.error.guard(()=>r(t))}}},1906:()=>{const i=up.util,a=up.element;up.EventEmitter=class extends up.Record{keys(){return["target","event","baseLayer","callback","log","ensureBubbles"]}emit(){return this.Ze(),this.baseLayer?this.baseLayer.asCurrent(()=>this.tn()):this.tn(),this.event}tn(){this.target.dispatchEvent(this.event),this.ensureBubbles&&!this.target.isConnected&&document.dispatchEvent(this.event),up.error.guard(()=>{var t;return(t=this.callback)==null?void 0:t.call(this,this.event)})}assertEmitted(){const t=this.emit();if(t.defaultPrevented)throw new up.Aborted(`Event ${t.type} was prevented`)}Ze(){if(!up.log.config.enabled)return;let t,e=this.log;i.isArray(e)?[e,...t]=e:t=[];const{type:n}=this.event;i.isString(e)?up.puts(n,e,...t):e!==!1&&up.puts(n,`Event ${n}`)}static fromEmitArgs(t,e={}){var u;let n,s=i.extractOptions(t);return s=i.merge(e,s),i.isElementish(t[0])?s.target=a.get(t.shift()):t[0]instanceof up.Layer&&(s.layer=t.shift()),i.isGiven(s.layer)&&(n=up.layer.get(s.layer),s.target||(s.target=n.element),s.baseLayer||(s.baseLayer=n)),s.baseLayer&&(s.baseLayer=up.layer.get(s.baseLayer)),i.isString(s.target)?s.target=up.fragment.get(s.target,{layer:s.layer}):s.target||(s.target=document),(u=t[0])!=null&&u.preventDefault?(s.event=t[0],s.log??(s.log=t[0].log)):i.isString(t[0])?s.event=up.event.build(t[0],s):s.event=up.event.build(s),new this(s)}}},4158:()=>{const i=up.util;up.EventListener=class extends up.Record{keys(){return["element","eventType","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}constructor(r){super(r),this.en=this.constructor.nn(r),this.isDefault=up.framework.evaling,this.beforeBoot??(this.beforeBoot=this.eventType.indexOf("up:framework:")===0),this.nativeCallback=this.nativeCallback.bind(this)}bind(){var t;const r=(t=this.element).upEventListeners||(t.upEventListeners={});r[this.en]&&up.fail("up.on(): The %o callback %o cannot be registered more than once",this.eventType,this.callback),r[this.en]=this,this.element.addEventListener(...this.sn())}sn(){let r=i.compactObject(i.pick(this,["once","passive","capture"]));return[this.eventType,this.nativeCallback,r]}unbind(){let r=this.element.upEventListeners;r&&delete r[this.en],this.element.removeEventListener(...this.sn())}nativeCallback(r){if(up.framework.beforeBoot&&!this.beforeBoot)return;let t=r.target;if(this.selector&&(t=t.closest(i.evalOption(this.selector))),(!this.guard||this.guard(r))&&t){const e=[r,t],n=this.callback.length;if(n!==1&&n!==2){const u=up.script.data(t);e.push(u)}if(this.eventType==="click"&&t.disabled)return;const s=this.callback.bind(t,...e);this.baseLayer?this.baseLayer.asCurrent(s):s()}}static fromElement(r){let t=r.element.upEventListeners;if(t)return t[this.nn(r)]}static nn(r){var t;return(t=r.callback).upUid||(t.upUid=i.uid()),[r.eventType,r.selector,r.callback.upUid].join("|")}static allNonDefault(r){let t=r.upEventListeners;if(t){const e=Object.values(t);return i.reject(e,"isDefault")}return[]}}},3139:()=>{const i=up.util;up.EventListenerGroup=class extends up.Record{keys(){return["elements","eventTypes","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}bind(){const r=[];return this.rn(function(t){const e=new up.EventListener(t);return e.bind(),r.push(e.unbind.bind(e))}),i.sequence(r)}rn(r){for(let t of this.elements)for(let e of this.eventTypes)r(this.un(t,e))}un(r,t){return{...this.attributes(),element:r,eventType:t}}unbind(){this.rn(function(r){let t=up.EventListener.fromElement(r);t&&t.unbind()})}static fromBindArgs(r,t){const e=(r=i.copy(r)).pop();let n;n=r[0].addEventListener?[r.shift()]:i.isJQuery(r[0])||i.isList(r[0])&&r[0][0].addEventListener?r.shift():[document];let s=i.parseTokens(r.shift()),u=up.migrate.fixEventTypes;u&&(s=u(s));const f=i.extractOptions(r);return new this({elements:n,eventTypes:s,selector:r[0],callback:e,...f,...t})}}},2214:()=>{const i=up.util;up.FieldWatcher=class{constructor(r,t,e){this.Ge=t,this.de=r,this.an=up.form.getScope(r),this.hn=e,this.cn=t.batch,this.ln=t.abortable}start(){this.pn=null,this.fn=this.dn(),this.mn=null,this.gn=!1,this.yn=[],this.wn(this.de),this.de.addEventListener("up:fragment:inserted",({target:r})=>{r!==this.de&&this.wn(r)}),this.yn.push(up.fragment.onAborted(this.an,()=>this.bn())),this.yn.push(up.on(this.an,"reset",()=>this.vn()))}stop(){this.bn();for(let r of this.yn)r()}_n(r){let t=i.copy(this.Ge);return up.form.watchOptions(r,t,{defaults:{event:"input"}})}wn(r){for(let t of up.form.fields(r))this.kn(t)}kn(r){let t=this._n(r);this.yn.push(up.on(r,t.event,()=>this.Sn(t)))}bn(){this.pn=null}xn(r,t){this.pn=r,this.En=t;let e=t.delay||0;clearTimeout(this.mn),this.mn=i.timer(e,()=>{this.mn=null,this.On()})}Cn(r){return!i.isEqual(r,this.fn)&&!i.isEqual(this.pn,r)}async On(){if(!this.pn||this.gn||this.mn||!this.an.isConnected)return;let r=this.En;const t=this.Fn(this.fn,this.pn);this.fn=this.pn,this.pn=null,this.gn=!0,this.En=null;let e={...r,disable:!1};const n=[];if(this.cn)n.push(this.Tn(t,e));else for(let s in t){const u=t[s];n.push(this.Tn(u,s,e))}if(i.some(n,i.isPromise)){let s=Promise.allSettled(n);up.form.disableWhile(s,r),await s}this.gn=!1,this.On()}Tn(...r){return up.error.guard(()=>this.hn(...r))}Fn(r,t){const e={};let n=Object.keys(r);n=n.concat(Object.keys(t)),n=i.uniq(n);for(let s of n){const u=r[s],f=t[s];i.isEqual(u,f)||(e[s]=f)}return e}dn(){return up.Params.fromContainer(this.de).toObject()}Sn(r={}){const t=this.dn();this.Cn(t)&&this.xn(t,r)}vn(){i.task(()=>this.Sn())}}},5949:()=>{const i=up.util;up.FIFOCache=class{constructor({capacity:r=10,normalizeKey:t=i.identity}={}){this.Rn=new Map,this.Ln=r,this.An=t}get(r){return r=this.An(r),this.Rn.get(r)}set(r,t){if(this.Rn.size===this.Ln){let e=this.Rn.keys().next().value;this.Rn.delete(e)}r=this.An(r),this.Rn.set(r,t)}clear(){this.Rn.clear()}}},665:()=>{up.FocusCapsule=class{constructor(a,r){this.Pn=a,this.$n=r}restore(a,r){let t=up.fragment.get(this.Pn,{layer:a});if(t)return up.viewport.copyCursorProps(this.$n,t),up.focus(t,r),!0}static preserve(a){let r=up.viewport.focusedElementWithin(a.element);if(!r)return;let t=up.fragment.tryToTarget(r);return t?new this(t,up.viewport.copyCursorProps(r)):void 0}}},5240:()=>{const i=up.util,a=up.element;up.FormValidator=class{constructor(t){this.Dn=t,this.Mn=[],this.Hn=null,this.Nn=!1,this.jn(),this.qn()}qn(){up.fragment.onAborted(this.Dn,t=>this.Bn(t))}Bn(t){this.Mn.length&&(this.Mn=[],this.Un.reject(new up.Aborted(t.reason)),this.jn())}jn(){this.Un=i.newDeferred()}watchContainer(t){let{event:e}=this.zn(t);up.on(t,e,{guard:()=>up.fragment.isAlive(t)},()=>up.error.muteUncriticalRejection(this.validate({origin:t})))}validate(t={}){let e=this.In(t);return this.Mn.push(...e),this.Kn(),this.Un}In(t){let e=this.Vn(t)||this.Xn(t)||this.Wn(t.origin);for(let n of e)n.renderOptions=this.zn(n.origin,t),n.target=up.fragment.resolveOrigin(n.target,n);return e}Xn({origin:t,...e}){if(up.form.isField(t))return this.Jn(t)||this.Gn(t,e)}Gn(t,{formGroup:e=!0}){if(!e)return;let n=up.form.groupSolution(t);return n?(up.puts("up.validate()","Validating form group of field %o",t),[n]):void 0}Vn({target:t,origin:e}){if(i.isString(t)){up.puts("up.validate()",'Validating target "%s"',t);let n=up.fragment.splitTarget(t);return i.compact(n.map(function(s){let u=up.fragment.get(s,{origin:e});if(u)return{element:u,target:s,origin:e};up.fail('Validation target "%s" does not match an element',s)}))}}Wn(t){return up.puts("up.validate()","Validating element %o",t),[{element:t,target:up.fragment.toTarget(t),origin:t}]}Jn(t){let e=t.closest("[up-validate]");if(e){let n=a.booleanOrStringAttr(e,"up-validate");return this.Vn({target:n,origin:t})}}zn(t,e){return up.form.watchOptions(t,e,{defaults:{event:"change"}})}Kn(){let t=this.Mn.map(n=>n.renderOptions.delay),e=Math.min(...t)||0;clearTimeout(this.Hn),this.Hn=i.timer(e,()=>{this.Hn=null,this.Qn()})}Qn(){up.error.muteUncriticalRejection(this.Yn())}async Yn(){if(!this.Mn.length||this.Nn||this.Hn)return;let t=this.Mn;this.Mn=[];let e=i.map(t,"origin"),n=i.flatMap(e,up.form.fields),s=i.uniq(i.map(n,"name")),u=this.Zn(t),f=i.map(t,"renderOptions"),w=i.mergeDefined(...f,{dataMap:u},up.form.destinationOptions(this.Dn));w.target=i.map(t,"target").join(", "),w.feedback=i.some(f,"feedback"),w.origin=this.Dn,w.focus??(w.focus="keep"),w.failOptions=!1,w.defaultMaybe=!0,w.params=up.Params.merge(w.params,...i.map(f,"params")),w.headers=i.merge(...i.map(f,"headers")),this.ti(w.headers,s),w.guardEvent=up.event.build("up:form:validate",{fields:n,log:"Validating form",params:w.params,form:this.Dn}),this.Nn=!0;let A=this.Un;this.jn(),w.disable=!1;for(let C of t)up.form.disableWhile(A,{disable:C.renderOptions.disable,origin:C.origin});try{A.resolve(up.render(w)),await A}finally{this.Nn=!1,this.Qn()}}ti(t,e){let n=up.protocol.headerize("validate"),s=e.join(" ");(!s||s.length>up.protocol.config.maxHeaderSize)&&(s=":unknown"),t[n]=s}Zn(t){let e={};for(let n of t){let s=i.pluckKey(n.renderOptions,"data");i.pluckKey(n.renderOptions,"keepData")&&(s=up.data(n.element)),s&&(e[n.target]=s)}return e}static forElement(t){let e=up.form.get(t);return e.upFormValidator||(e.upFormValidator=new this(e))}}},2587:()=>{const i=up.util,a=/^([^ >+(]+) (.+)$/;up.FragmentFinder=class{constructor(t){this.Ge=t,this.F=t.origin,this.ei=t.selector,this.ni=t.document||window.document,this.ii=t.match??up.fragment.config.match,this.si=t.preferOldElements}find(){return this.ri()||this.oi()||this.ui()}ri(){if(this.si)return this.si.find(t=>this.ni.contains(t)&&up.fragment.matches(t,this.ei))}oi(){var t;if(this.ii==="region"&&!up.fragment.containsMainPseudo(this.ei)&&((t=this.F)!=null&&t.isConnected))return this.ai()||this.hi()}ai(){return up.fragment.closest(this.F,this.ei,this.Ge)}hi(){let t=up.fragment.splitTarget(this.ei);return i.findResult(t,e=>{let n=e.match(a);if(n){let s=up.fragment.closest(this.F,n[1],this.Ge);if(s)return up.fragment.getDumb(s,n[2])}})}ui(){return up.fragment.getDumb(this.ni,this.ei,this.Ge)}}},7031:()=>{const i=up.util,a=up.element,r={preventScroll:!0};up.FragmentFocus=class extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","focusCapsule","inputDevice"])}processPrimitive(e){switch(e){case"keep":return this.ci();case"restore":return this.li();case"target":case!0:return this.pi(this.fragment);case"layer":return this.pi(this.layer.getFocusElement());case"main":return this.fi(":main");case"hash":return this.di();case"autofocus":return this.mi();default:if(i.isString(e))return this.fi(e)}}processElement(e){return this.pi(e)}resolveCondition(e){return e==="lost"?this.gi():super.resolveCondition(e)}fi(e){let n=this.findSelector(e);return this.pi(n)}ci(){var e;if(this.gi())return(e=this.focusCapsule)==null?void 0:e.restore(this.layer,r)}li(){return up.viewport.restoreFocus({layer:this.layer})}mi(){let e=this.fragment&&a.subtree(this.fragment,"[autofocus]")[0];if(e)return this.pi(e)}pi(e){if(e)return up.focus(e,{force:!0,...r,inputDevice:this.inputDevice}),!0}di(){let e=up.viewport.firstHashTarget(this.hash,{layer:this.layer});if(e)return this.pi(e)}gi(){return!this.layer.hasFocus()}}},8057:()=>{const i=up.element;up.FragmentPolling=class{constructor(r){this.Ge=up.radio.pollOptions(r),this.Je=r,up.destructor(r,this.yi.bind(this)),up.fragment.onAborted(r,this.wi.bind(this)),this.bi="initialized",this.ln=!0,this.vi=!1,this._i()}static forFragment(r){return r.upPolling||(r.upPolling=new this(r))}onPollAttributeObserved(){this.ki()}yi(){this.Si()}ki(r){if(Object.assign(this.Ge,r),this.bi!=="started"){if(!up.fragment.isTargetable(this.Je))return void up.warn("[up-poll]","Cannot poll untargetable fragment %o",this.Je);this.bi="started",this.xi(),this.Ei()}}Si(){var r;this.bi==="started"&&(this.Oi(),this.bi="stopped",(r=this.unbindEvents)==null||r.call(this))}forceStart(r){Object.assign(this.Ge,r),this.forceStarted=!0,this.ki()}forceStop(){this.Si(),this.forceStarted=!1}xi(){this.unbindEvents||(this.unbindEvents=up.on("visibilitychange up:layer:opened up:layer:dismissed up:layer:accepted",this.Ci.bind(this)))}Ci(){this.Fi()&&this.Ei()}Fi(){return!document.hidden&&(this.Ge.ifLayer==="any"||this.Ti())}Oi(){clearTimeout(this.reloadTimer),this.reloadTimer=null}Ei(){this.reloadTimer||this.vi||(this.Oi(),this.reloadTimer=setTimeout(this.Ri.bind(this),this.Li()))}Ri(){this.reloadTimer=null,this.Ai()}Ai(){this.bi==="started"&&(this.Fi()?this.Pi():up.puts("[up-poll]","Will not poll hidden fragment"))}$i(){return this.Ge.interval??i.numberAttr(this.Je,"up-interval")??up.radio.config.pollInterval}Li(){return Math.max(this.$i()-this.Di(),0)}Di(){return new Date-this.Mi}Ti(){var r,t;return this.layer||(this.layer=up.layer.get(this.Je)),(t=(r=this.layer)==null?void 0:r.isFront)==null?void 0:t.call(r)}Pi(){this.Oi();let r=this.ln;try{this.ln=!1,this.vi=!0,up.reload(this.Je,this.Hi()).then(this.Ni.bind(this),this.ji.bind(this))}finally{this.ln=r}}Hi(){let r=up.event.build("up:fragment:poll",{log:["Polling fragment",this.Je]});return{...this.Ge,guardEvent:r}}wi({newLayer:r}){this.ln&&!r&&this.Si()}Ni({fragment:r}){this.vi=!1,this._i(),r?this.qi(r):this.Ei()}qi(r){this.Si(),this.forceStarted&&up.fragment.matches(this.Je,r)&&this.constructor.forFragment(r).forceStart(this.Ge)}ji(r){this.vi=!1,this._i(),this.Ei(),up.error.throwCritical(r)}_i(){this.Mi=new Date}}},2828:()=>{const i=up.util;up.FragmentProcessor=class extends up.Record{keys(){return["fragment","autoMeans","origin","layer"]}process(r){let t=this.preprocess(r);return this.tryProcess(t)}preprocess(r){return i.parseTokens(r,{separator:"or"})}tryProcess(r){if(i.isArray(r))return this.processArray(r);if(i.isFunction(r)){let t=up.error.guard(()=>r(this.fragment,this.attributes()));return this.tryProcess(t)}if(i.isElement(r))return this.processElement(r);if(i.isString(r)){if(r==="auto")return this.tryProcess(this.autoMeans);let t=r.match(/^(.+?)-if-(.+?)$/);if(t)return this.resolveCondition(t[2])&&this.process(t[1])}return this.processPrimitive(r)}processArray(r){return i.find(r,t=>this.tryProcess(t))}resolveCondition(r){if(r==="main")return this.fragment&&up.fragment.contains(this.fragment,":main")}findSelector(r){const t={layer:this.layer,origin:this.origin};let e=this.fragment&&up.fragment.get(this.fragment,r,t)||up.fragment.get(r,t);if(e)return e;up.warn("up.render()",'Could not find an element matching "%s"',r)}}},4850:()=>{const i=up.util;up.FragmentScrolling=class extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","mode","revealTop","revealMax","revealSnap","scrollBehavior"])}processPrimitive(r){switch(r){case"reset":return this.Bi();case"layer":return this.Ui();case"main":return this.zi(":main");case"restore":return this.Ii();case"hash":return this.hash&&up.viewport.revealHash(this.hash,this.attributes());case"target":case"reveal":case!0:return this.Ki(this.fragment);default:if(i.isString(r))return this.zi(r)}}processElement(r){return this.Ki(r)}Ki(r){if(r)return up.reveal(r,this.attributes()),!0}zi(r){let t=this.findSelector(r);return this.Ki(t)}Ui(){return this.Ki(this.layer.getBoxElement())}Bi(){return up.viewport.resetScroll({...this.attributes(),around:this.fragment}),!0}Ii(){return up.viewport.restoreScroll({...this.attributes(),around:this.fragment})}}},7956:()=>{const i=up.element,a=up.util;up.Layer=class extends up.Record{keys(){return["element","stack","history","mode","context","lastScrollTops","lastFocusCapsules"]}defaults(){return{context:{},lastScrollTops:up.viewport.newStateCache(),lastFocusCapsules:up.viewport.newStateCache()}}constructor(t={}){if(super(t),!this.mode)throw"missing { mode } option"}setupHandlers(){up.link.convertClicks(this)}teardownHandlers(){}mainTargets(){return up.layer.mainTargets(this.mode)}sync(){}accept(){throw new up.NotImplemented}dismiss(){throw new up.NotImplemented}peel(t){this.stack.peel(this,t)}evalOption(t){return a.evalOption(t,this)}isCurrent(){return this.stack.isCurrent(this)}isFront(){return this.stack.isFront(this)}isRoot(){return this.stack.isRoot(this)}isOverlay(){return this.stack.isOverlay(this)}isOpen(){return this.stack.isOpen(this)}isClosed(){return this.stack.isClosed(this)}get parent(){return this.stack.parentOf(this)}get child(){return this.stack.childOf(this)}get ancestors(){return this.stack.ancestorsOf(this)}get descendants(){return this.stack.descendantsOf(this)}get subtree(){return[this,...this.descendants]}get index(){return this.Vi??(this.Vi=this.stack.indexOf(this))}getContentElement(){return this.contentElement||this.element}getBoxElement(){return this.boxElement||this.element}getFocusElement(){return this.getBoxElement()}getFirstSwappableElement(){throw new up.NotImplemented}contains(t){return t.closest(up.layer.anySelector())===this.element}on(...t){return this.Xi(t).bind()}off(...t){return this.Xi(t).unbind()}Xi(t){return up.EventListenerGroup.fromBindArgs(t,{guard:e=>this.Wi(e),elements:[this.element],baseLayer:this})}Wi(t){return this.contains(t.target)}wasHitByMouseEvent({clientX:t,clientY:e}){const n=document.elementFromPoint(t,e);return!n||this.contains(n)}Ji(t){return up.EventEmitter.fromEmitArgs(t,{layer:this})}emit(...t){return this.Ji(t).emit()}isDetached(){return!this.element.isConnected}saveHistory(){this.history&&(this.savedTitle=document.title,this.savedMetaTags=up.history.findMetaTags(),this.savedLocation=up.history.location,this.savedLang=up.history.getLang())}restoreHistory(){this.showsLiveHistory()&&(this.savedLocation&&up.history.push(this.savedLocation),this.savedTitle&&(document.title=this.savedTitle),this.savedMetaTags&&up.history.updateMetaTags(this.savedMetaTags),a.isString(this.savedLang)&&up.history.updateLang(this.savedLang))}asCurrent(t){return this.stack.asCurrent(this,t)}updateHistory(t){var e,n;a.isString(t.location)&&(this.location=t.location),up.history.config.updateMetaTags&&a.isList(t.metaTags)&&((n=(e=up.migrate)==null?void 0:e.warnOfHungryMetaTags)==null||n.call(e,t.metaTags),this.metaTags=t.metaTags),a.isString(t.title)&&(this.title=t.title),a.isString(t.lang)&&(this.lang=t.lang)}showsLiveHistory(){return this.history&&this.isFront()}get title(){return this.showsLiveHistory()?document.title:this.savedTitle}set title(t){this.savedTitle=t,this.showsLiveHistory()&&(document.title=t)}get metaTags(){return this.showsLiveHistory()?up.history.findMetaTags():this.savedMetaTags}set metaTags(t){this.savedMetaTags=t,this.showsLiveHistory()&&up.history.updateMetaTags(t)}get lang(){return this.showsLiveHistory()?up.history.getLang():this.savedLang}set lang(t){this.savedLang=t,this.showsLiveHistory()&&up.history.updateLang(t)}get location(){return this.showsLiveHistory()?up.history.location:this.savedLocation}set location(t){(this.location!==(t=a.normalizeURL(t))||this.opening)&&(this.savedLocation=t,this.showsLiveHistory()&&up.history.push(t),this.opening||this.emit("up:layer:location:changed",{location:t}))}selector(t){return this.constructor.selector(t)}static selector(t){throw new up.NotImplemented}toString(){throw new up.NotImplemented}affix(...t){return i.affix(this.getFirstSwappableElement(),...t)}[a.isEqual.key](t){return this.constructor===t.constructor&&this.element===t.element}hasFocus(){let t=document.activeElement;return t!==document.body&&this.element.contains(t)}reset(){Object.assign(this,this.defaults())}}},7101:()=>{var i;up.Layer.Cover=((i=class extends up.Layer.OverlayWithViewport{}).mode="cover",i)},5580:()=>{var i;up.Layer.Drawer=((i=class extends up.Layer.OverlayWithViewport{}).mode="drawer",i)},86:()=>{var i;up.Layer.Modal=((i=class extends up.Layer.OverlayWithViewport{}).mode="modal",i)},7403:()=>{const i=up.element,a=up.util;up.Layer.Overlay=class extends up.Layer{keys(){return super.keys().concat(["position","align","size","origin","class","backdrop","openAnimation","closeAnimation","openDuration","closeDuration","openEasing","closeEasing","backdropOpenAnimation","backdropCloseAnimation","dismissable","dismissLabel","dismissAriaLabel","trapFocus","onOpened","onAccept","onAccepted","onDismiss","onDismissed","acceptEvent","dismissEvent","acceptLocation","dismissLocation","opening"])}constructor(t){super(t),this.dismissable===!0?this.dismissable=["button","key","outside"]:this.dismissable===!1?this.dismissable=[]:this.dismissable=a.parseTokens(this.dismissable),this.acceptLocation&&(this.acceptLocation=new up.URLPattern(this.acceptLocation)),this.dismissLocation&&(this.dismissLocation=new up.URLPattern(this.dismissLocation))}callback(t){let e=this[t];if(e)return e.bind(this)}createElement(t){this.nesting||(this.nesting=this.Gi());const e=a.compactObject(a.pick(this,["align","position","size","class","nesting"]));this.element=this.affixPart(t,null,e)}createBackdropElement(t){this.backdropElement=this.affixPart(t,"backdrop")}createViewportElement(t){this.viewportElement=this.affixPart(t,"viewport",{"up-viewport":""})}createBoxElement(t){this.boxElement=this.affixPart(t,"box")}createContentElement(t){this.contentElement=this.affixPart(t,"content")}setContent(t){this.contentElement.append(t),this.onContentSet()}onContentSet(){}createDismissElement(t){return this.dismissElement=this.affixPart(t,"dismiss",{"up-dismiss":'":button"',"aria-label":this.dismissAriaLabel}),i.affix(this.dismissElement,'span[aria-hidden="true"]',{text:this.dismissLabel})}affixPart(t,e,n={}){return i.affix(t,this.selector(e),n)}static selector(t){return a.compact(["up",this.mode,t]).join("-")}Gi(){const{parent:t}=this;return this.mode===t.mode?1+t.Gi():0}setupHandlers(){var t,e;super.setupHandlers(),this.overlayFocus=new up.OverlayFocus(this),this.Qi("button")&&this.createDismissElement(this.getBoxElement()),this.Qi("outside")&&(this.viewportElement?up.on(this.viewportElement,"up:click",n=>{n.target===this.viewportElement&&this.Yi(n,!0)}):this.unbindParentClicked=this.parent.on("up:click",(n,s)=>{if(!up.layer.isWithinForeignOverlay(s)){const u=this.origin&&this.origin.contains(s);this.Yi(n,u)}})),this.Qi("key")&&(this.unbindEscapePressed=up.event.onEscape(n=>this.onEscapePressed(n))),this.registerClickCloser("up-accept",(n,s)=>{this.accept(n,s)}),this.registerClickCloser("up-dismiss",(n,s)=>{this.dismiss(n,s)}),(e=(t=up.migrate).registerLayerCloser)==null||e.call(t,this),this.Zi(this.acceptEvent,this.accept),this.Zi(this.dismissEvent,this.dismiss),this.on("up:click","label[for]",(n,s)=>this.ts(n,s))}ts(t,e){let n=e.getAttribute("for"),s=up.form.fieldSelector(i.idSelector(n)),u=up.fragment.all(s,{layer:"any"}),f=up.fragment.all(s,{layer:this});if(u.length>1&&f[0]!==u[0]){t.preventDefault();const w=f[0];w.focus(),w.matches("input[type=checkbox], input[type=radio]")&&w.click()}}Yi(t,e){up.log.putsEvent(t),e&&up.event.halt(t),up.error.muteUncriticalSync(()=>this.dismiss(":outside",{origin:t.target}))}onEscapePressed(t){if(this.isFront()){let e=up.form.focusedField();e?e.blur():this.Qi("key")&&(up.event.halt(t,{log:!0}),up.error.muteUncriticalSync(()=>this.dismiss(":key")))}}registerClickCloser(t,e){let n=`[${t}]`;this.on("up:click",n,function(s){up.event.halt(s,{log:!0});const u=s.target.closest(n),f=i.jsonAttr(u,t),w={origin:u},A=new up.OptionsParser(u,w);A.booleanOrString("animation"),A.string("easing"),A.number("duration"),A.string("confirm"),up.error.muteUncriticalSync(()=>e(f,w))})}Zi(t,e){if(t)return this.on(t,n=>{n.preventDefault(),up.error.muteUncriticalSync(()=>e.call(this,n,{response:n.response}))})}tryAcceptForLocation(t){this.es(this.acceptLocation,this.accept,t)}tryDismissForLocation(t){this.es(this.dismissLocation,this.dismiss,t)}es(t,e,n){let s,u;if(t&&(s=this.location)&&(u=t.recognize(s))){const f={...u,location:s};up.error.muteUncriticalSync(()=>e.call(this,f,n))}}teardownHandlers(){var t,e;super.teardownHandlers(),(t=this.unbindParentClicked)==null||t.call(this),(e=this.unbindEscapePressed)==null||e.call(this),this.overlayFocus.teardown()}destroyElements(t){const e={...t,animation:()=>this.startCloseAnimation(t),onFinished:()=>{var n;this.onElementsRemoved(),(n=t.onFinished)==null||n.call(t)},log:!1};up.destroy(this.element,e)}onElementsRemoved(){}ns(t={}){const e=up.animate(this.getBoxElement(),t.boxAnimation,t);let n;return this.backdrop&&!up.motion.isNone(t.boxAnimation)&&(n=up.animate(this.backdropElement,t.backdropAnimation,t)),Promise.all([e,n])}async startOpenAnimation(t={}){await this.ns({boxAnimation:t.animation??this.evalOption(this.openAnimation),backdropAnimation:"fade-in",easing:t.easing||this.openEasing,duration:t.duration||this.openDuration}),this.wasEverVisible=!0}startCloseAnimation(t={}){return this.ns({boxAnimation:this.wasEverVisible&&(t.animation??this.evalOption(this.closeAnimation)),backdropAnimation:this.wasEverVisible&&"fade-out",easing:t.easing||this.closeEasing,duration:t.duration||this.closeDuration})}accept(t=null,e={}){return this.ss("accept",t,e)}dismiss(t=null,e={}){return this.ss("dismiss",t,e)}Qi(t){return a.contains(this.dismissable,t)}ss(t,e,n){return n={...n,verb:t,value:e,layer:this},new up.Change.CloseLayer(n).execute()}getFirstSwappableElement(){return this.getContentElement().children[0]}toString(){return`${this.mode} overlay`}}},6412:()=>{up.Layer.OverlayWithTether=class extends up.Layer.Overlay{createElements(){this.origin||up.fail("Missing { origin } option"),this.rs=new up.Tether({anchor:this.origin,align:this.align,position:this.position}),this.createElement(this.rs.parent),this.createContentElement(this.element)}onContentSet(){this.rs.start(this.element)}onElementsRemoved(){this.rs.stop()}sync(){this.isOpen()&&(this.isDetached()||this.rs.isDetached()?this.dismiss(":detached",{animation:!1,preventable:!1}):this.rs.sync())}}},7965:()=>{up.Layer.OverlayWithViewport=class extends up.Layer.Overlay{static getParentElement(){return document.body}createElements(){up.viewport.bodyShifter.raiseStack(),this.createElement(this.constructor.getParentElement()),this.backdrop&&this.createBackdropElement(this.element),this.createViewportElement(this.element),this.createBoxElement(this.viewportElement),this.createContentElement(this.boxElement)}onElementsRemoved(){up.viewport.bodyShifter.lowerStack()}sync(){this.isDetached()&&this.isOpen()&&this.constructor.getParentElement().appendChild(this.element)}}},4552:()=>{var i;up.Layer.Popup=((i=class extends up.Layer.OverlayWithTether{}).mode="popup",i)},7771:()=>{var i;const a=up.element;up.Layer.Root=((i=class extends up.Layer{get element(){return a.root}constructor(t){super(t),this.setupHandlers()}getFirstSwappableElement(){return document.body}static selector(){return"html"}setupHandlers(){this.element.upHandlersApplied||(this.element.upHandlersApplied=!0,super.setupHandlers())}sync(){this.setupHandlers()}accept(){this.os()}dismiss(){this.os()}os(){up.fail("Cannot close the root layer")}toString(){return"root layer"}}).mode="root",i)},6066:()=>{var i;const a=up.util,r=up.element;up.LayerLookup=(i=class{constructor(e,n){this.i=e,n.normalizeLayerOptions!==!1&&up.layer.normalizeOptions(n),this.Ge=n,this.us=a.parseTokens(n.layer)}all(){let e=a.flatMap(this.us,n=>this.hs(n));return e=a.compact(e),e=a.uniq(e),e}static all(e,...n){const s=a.parseArgIntoOptions(n,"layer"),{layer:u}=s;return u instanceof up.Layer?[u]:new this(e,s).all()}cs(e){return e=r.get(e),a.find(this.i.reversed(),n=>n.contains(e))}ls(e){return this.i.at(e)}hs(e){if(e instanceof up.Layer)return e;if(a.isNumber(e))return this.ls(e);if(/^\d+$/.test(e))return this.ls(Number(e));if(a.isElementish(e))return this.cs(e);switch(e){case"any":return[this.ps(),...this.i.reversed()];case"current":return this.ps();case"closest":return this.i.selfAndAncestorsOf(this.ps());case"parent":return this.ps().parent;case"ancestor":case"ancestors":return this.ps().ancestors;case"child":return this.ps().child;case"descendant":case"descendants":return this.ps().descendants;case"subtree":return this.ps().subtree;case"new":return"new";case"root":return this.i.root;case"overlay":case"overlays":return a.reverse(this.i.overlays);case"front":return this.i.front;case"origin":return this.fs();default:return up.fail("Unknown { layer } option: %o",e)}}fs(){let{origin:e,originLayer:n}=this.Ge;return n||(e?this.cs(e):void 0)}ps(){let{baseLayer:e}=this.Ge;if(a.isString(e)){const n={...this.Ge,baseLayer:this.i.current,normalizeLayerOptions:!1,layer:e};return this.constructor.all(this.i,n)[0]}return e||this.fs()||this.i.current}},a.memoizeMethod(i.prototype,{ps:!0,fs:!0}),i)},6387:()=>{const i=up.util;up.LayerStack=class{constructor(){this.ds=[],this.layers=[this.gs()]}gs(){return up.layer.build({mode:"root",stack:this})}remove(r){i.remove(this.layers,r)}peel(r,t){const e=i.reverse(r.descendants),n={...t,preventable:!1};for(let s of e)s.dismiss(":peel",n)}reset(){this.peel(this.root,{animation:!1}),this.ds=[],this.root.reset()}isOpen(r){return i.contains(this.layers,r)}isClosed(r){return!this.isOpen(r)}parentOf(r){return this.layers[r.index-1]}childOf(r){return this.layers[r.index+1]}ancestorsOf(r){return i.reverse(this.layers.slice(0,r.index))}selfAndAncestorsOf(r){return[r,...r.ancestors]}descendantsOf(r){return this.layers.slice(r.index+1)}isRoot(r){return this.root===r}isOverlay(r){return this.root!==r}isCurrent(r){return this.current===r}isFront(r){return this.front===r}get(...r){return this.getAll(...r)[0]}getAll(...r){return up.LayerLookup.all(this,...r)}sync(){for(let r of this.layers)r.sync()}asCurrent(r,t){try{return this.ds.push(r),t()}finally{this.ds.pop()}}reversed(){return i.reverse(this.layers)}dismissOverlays(r=null,t={}){t.dismissable=!1;for(let e of i.reverse(this.overlays))e.dismiss(r,t)}at(r){return this.layers[r]}indexOf(r){return this.layers.indexOf(r)}get count(){return this.layers.length}get root(){return this.layers[0]}get overlays(){return this.root.descendants}get current(){return i.last(this.ds)||this.front}get front(){return i.last(this.layers)}}},5390:()=>{const i=up.util;up.LinkFeedbackURLs=class{constructor(r){if(this.ys=up.link.isSafe(r),this.ys){const t=r.getAttribute("href");t&&t!=="#"&&(this.ws=i.matchableURL(t));const e=r.getAttribute("up-href");e&&(this.bs=i.matchableURL(e));const n=r.getAttribute("up-alias");n&&(this.vs=new up.URLPattern(n))}}isCurrent(r){var t,e;return!(!r||this.ws!==r&&this.bs!==r&&!((e=(t=this.vs)==null?void 0:t.test)!=null&&e.call(t,r,!1)))}}},2460:()=>{const i=up.util,a=up.element;up.LinkFollowIntent=class{constructor(t,e){this._s=t,this.hn=e,this.ks("mouseenter mousedown touchstart",n=>this.Ss(n)),this.ks("mouseleave",()=>this.xs()),up.fragment.onAborted(this._s,()=>this.xs())}ks(t,e){up.on(this._s,t,{passive:!0},e)}Ss(t){if(up.link.shouldFollowEvent(t,this._s))if(this.xs(),t.type==="mouseenter"){let e=this.Es();this.Os=i.timer(e,()=>this.Tn(t))}else this.Tn(t)}xs(){clearTimeout(this.Os),up.network.abort(t=>t.origin===this._s&&t.background)}Es(){return a.numberAttr(this._s,"up-preload-delay")??up.link.config.preloadDelay}Tn(t){up.log.putsEvent(t),up.error.muteUncriticalRejection(this.hn())}}},1653:()=>{let i="up.log.enabled",a=!1;try{a=!!(sessionStorage!=null&&sessionStorage.getItem(i))}catch{}up.LogConfig=class extends up.Config{constructor(){super(()=>({banner:!0,format:!0}))}get enabled(){return a}set enabled(t){a=t;try{sessionStorage==null||sessionStorage.setItem(i,t?"1":"")}catch{}}}},7792:()=>{const i=up.util,a=up.element;up.MotionController=class{constructor(t){this.Cs=`up-${t}`,this.ei=`.${this.Cs}`,this.finishEvent=`up:${t}:finish`,this.finishCount=0,this.Fs=0}startFunction(t,e,n={}){t=a.list(t);const s=()=>up.error.muteUncriticalRejection(e());if(n.trackMotion=n.trackMotion??up.motion.isEnabled(),n.trackMotion===!1)return s();{n.trackMotion=!1,this.finish(t),this.Ts(t);let u=this.Rs(t,s);return u=u.then(()=>this.Ls(t)),u}}finish(t){var e,n;if(this.finishCount++,this.Fs!==0&&up.motion.isEnabled()){t=this.As(t);for(let s of t)this.Ps(s);return(n=(e=up.migrate).formerlyAsync)==null?void 0:n.call(e,"up.motion.finish()")}}As(t){return t?i.flatMap(t,e=>a.list(e.closest(this.ei),e.querySelectorAll(this.ei))):document.querySelectorAll(this.ei)}isActive(t){return t.classList.contains(this.Cs)}Ps(t){this.$s(t)}$s(t,e={}){return e={target:t,log:!1,...e},up.emit(this.finishEvent,e)}Ts(t){this.Fs++,this.Ds(t,!0)}Ls(t){this.Fs--,this.Ds(t,!1)}Ds(t,e){for(let n of t)n.classList.toggle(this.Cs,e)}Rs(t,e){if(t.length<2)return e();const n=up.on(t,this.finishEvent,s=>{if(!s.forwarded)for(let u of t)u!==s.target&&this.isActive(u)&&this.$s(u,{forwarded:!0})});return e().then(n)}async reset(){await this.finish(),this.finishCount=0,this.Fs=0}}},4308:()=>{const i=up.util,a=up.element;up.NonceableCallback=class{constructor(t,e){this.script=t,this.nonce=e}static fromString(t){let e=t.match(/^(nonce-([^\s]+)\s)?(.*)$/);return new this(e[3],e[2])}toFunction(...t){if(this.nonce){let e=this;return function(...n){return e.Ms(this,t,n)}}return new Function(...t,this.script)}toString(){return`nonce-${this.nonce} ${this.script}`}Ms(t,e,n){let s,u=`
      try {
        up.noncedEval.value = (function(${e.join()}) {
          ${this.script}
        }).apply(up.noncedEval.thisArg, up.noncedEval.args)
      } catch (error) {
        up.noncedEval.error = error
      }
    `;try{if(up.noncedEval={args:n,thisArg:t},s=up.element.affix(document.body,"script",{nonce:this.nonce,text:u}),up.noncedEval.error)throw up.noncedEval.error;return up.noncedEval.value}finally{up.noncedEval=void 0,s&&s.remove()}}Hs(t){return this.nonce&&i.contains(t,this.nonce)}static adoptNonces(t,e){if(!(e!=null&&e.length))return;const n=i.memoize(up.protocol.cspNonce);i.each(up.script.config.nonceableAttributes,s=>{let u=a.subtree(t,`[${s}^="nonce-"]`);i.each(u,f=>{let w=f.getAttribute(s),A=this.fromString(w),C=(E,...O)=>up.log.warn("up.render()",`Cannot use callback [${s}="${w}"]: ${E}`,...O);if(!A.Hs(e))return C("Callback's CSP nonce (%o) does not match response header (%o)",A.nonce,e);let h=n();if(!h)return C("Current page's CSP nonce is unknown");A.nonce=h,f.setAttribute(s,A.toString())})})}}},1104:()=>{const i=up.util,a=up.element;up.OptionsParser=class{constructor(t,e,n={}){this.Ge=e,this.H=t,this.Ns=n,this.js=n.fail,this.qs=n.closest,this.Bs=n.attrPrefix||"up-",this.Us=n.defaults||{}}string(t,e){this.parse(a.attr,t,e)}boolean(t,e){this.parse(a.booleanAttr,t,e)}number(t,e){this.parse(a.numberAttr,t,e)}booleanOrString(t,e){this.parse(a.booleanOrStringAttr,t,e)}json(t,e){this.parse(a.jsonAttr,t,e)}callback(t,e={}){this.parse((n,s)=>a.callbackAttr(n,s,e),t,e)}parse(t,e,n={}){const s=i.wrapList(n.attr??this.zs(e));let u=this.Ge[e];for(let A of s)u??(u=this.Is(t,this.H,A));u??(u=n.default??this.Us[e]);let f,w=n.normalize;if(w&&(u=w(u)),i.isDefined(u)&&(this.Ge[e]=u),this.js&&(f=up.fragment.failKey(e))){const A=i.compact(i.map(s,C=>this.Ks(C)));this.parse(t,f,{...n,attr:A})}}include(t){let e=t(this.H,this.Ge,this.Ns);Object.assign(this.Ge,e)}Is(t,e,n){return this.qs?a.closestAttr(e,n,t):t(e,n)}Ks(t){return this.Vs(t,this.Bs+"on-")||this.Vs(t,this.Bs)}Vs(t,e){if(t.startsWith(e))return`${e}fail-${t.substring(e.length)}`}zs(t){return`${this.Bs}${i.camelToKebabCase(t)}`}}},8665:()=>{const i=up.element,a=up.util;up.OverlayFocus=class{constructor(t){this.C=t,this.pi=this.C.getFocusElement(),this.Xs=this.C.trapFocus}moveToFront(){this.Ws||(this.Ws=!0,this.Js=i.setTemporaryAttrs(this.pi,{tabindex:"0",role:"dialog","aria-modal":this.Xs.toString()}),this.Xs&&(this.Gs=up.on("focusin",t=>this.Qs(t)),this.Ys=i.affix(this.pi,"beforebegin","up-focus-trap[tabindex=0]"),this.Zs=i.affix(this.pi,"afterend","up-focus-trap[tabindex=0]")))}moveToBack(){this.teardown()}teardown(){this.Ws&&(this.Ws=!1,this.Js(),this.Xs&&(this.Gs(),this.Ys.remove(),this.Zs.remove()))}Qs(t){const{target:e}=t;this.tr||up.layer.isWithinForeignOverlay(e)||(this.tr=!0,e===this.Ys?this.er():e!==this.Zs&&this.C.contains(e)||this.nr(),this.tr=!1)}nr(t){up.focus(this.pi,t)}er(){this.ir(this.C.getBoxElement())||this.nr()}ir(t){for(let e of a.reverse(t.children))if(up.viewport.tryFocus(e)||this.ir(e))return!0}}},3645:()=>{const i=up.util,a=up.element;up.Params=class{constructor(t){this.clear(),this.addAll(t)}clear(){this.entries=[]}[i.copy.key](){return new up.Params(this)}toObject(){const t={};for(let e of this.entries){const{name:n,value:s}=e;i.isBasicObjectProperty(n)||(this.sr(n)?(t[n]||(t[n]=[]),t[n].push(s)):t[n]=s)}return t}toArray(){return this.entries}toFormData(){const t=new FormData;for(let e of this.entries)t.append(e.name,e.value);return t.entries||(t.originalArray=this.entries),t}toQuery(){let t=i.map(this.entries,this.rr.bind(this));return t=i.compact(t),t.join("&")}rr(t){const{value:e}=t;if(this.ur(e))return;let n=encodeURIComponent(t.name);return i.isGiven(e)&&(n+="=",n+=encodeURIComponent(e)),n}ur(t){return t instanceof Blob}hasBinaryValues(){const t=i.map(this.entries,"value");return i.some(t,this.ur)}toURL(t){let e=[t,this.toQuery()];e=i.filter(e,i.isPresent);const n=i.contains(t,"?")?"&":"?";return e.join(n)}add(t,e){this.entries.push({name:t,value:e})}addAll(t){i.isMissing(t)||(t instanceof this.constructor?this.entries.push(...t.entries):i.isArray(t)?this.entries.push(...t):i.isString(t)?this.ar(t):i.isFormData(t)?this.hr(t):i.isObject(t)?this.cr(t):up.fail("Unsupport params type: %o",t))}cr(t){for(let e in t){const n=t[e],s=i.isArray(n)?n:[n];for(let u of s)this.add(e,u)}}ar(t){for(let e of t.split("&"))if(e){let[n,s]=e.split("=");n=decodeURIComponent(n),s=i.isGiven(s)?decodeURIComponent(s):null,this.add(n,s)}}hr(t){for(let e of t.entries())this.add(...e)}set(t,e){this.delete(t),this.add(t,e)}delete(t){this.entries=i.reject(this.entries,this.lr(t))}lr(t){return e=>e.name===t}get(t){return this.sr(t)?this.getAll(t):this.getFirst(t)}getFirst(t){const e=i.find(this.entries,this.lr(t));return e==null?void 0:e.value}getAll(t){if(this.sr(t))return this.getAll(t);{const e=i.map(this.entries,this.lr(t));return i.map(e,"value")}}sr(t){return t.endsWith("[]")}[i.isBlank.key](){return this.entries.length===0}static fromForm(t){return this.fromContainer(t)}static fromContainer(t){let e=up.form.fields(t);return this.fromFields(e)}static fromFields(t){const e=new this;for(let n of i.wrapList(t))e.addField(n);return e}addField(t){let e=(t=a.get(t)).name;if(e&&!t.disabled){const{tagName:n}=t,{type:s}=t;if(n==="SELECT")for(let u of t.querySelectorAll("option"))u.selected&&this.add(e,u.value);else if(s==="checkbox"||s==="radio")t.checked&&this.add(e,t.value);else{if(s!=="file")return this.add(e,t.value);for(let u of t.files)this.add(e,u)}}}[i.isEqual.key](t){return this.constructor===t.constructor&&i.isEqual(this.entries,t.entries)}static fromURL(t){const e=new this;let n=i.parseURL(t).search;return n&&(n=n.replace(/^\?/,""),e.addAll(n)),e}static stripURL(t){return i.normalizeURL(t,{search:!1})}static merge(...t){return t.reduce(function(e,n){return e.addAll(n),e},new up.Params)}}},7782:()=>{const i=up.element;up.ProgressBar=class{constructor(){this.pr=0,this.H=i.affix(document.body,"up-progress-bar"),this.H.style.transition="width 300ms ease-out",this.dr(0),up.element.paint(this.H),this.mr=31,this.gr()}gr(){let r;r=this.mr<80?Math.random()<.15?7+5*Math.random():1.5+.5*Math.random():.13*(100-this.mr)*Math.random(),this.dr(this.mr+r),this.pr++;const t=300+40*this.pr;this.timeout=setTimeout(this.gr.bind(this),t)}dr(r){this.mr=r,this.H.style.width=`${r}vw`}destroy(){clearTimeout(this.timeout),this.H.remove()}conclude(){clearTimeout(this.timeout),this.dr(100),setTimeout(this.destroy.bind(this),300)}}},2406:()=>{const i=up.util;up.Record=class{keys(){throw"Return an array of keys"}defaults(r){return{}}constructor(r){Object.assign(this,this.defaults(r),this.attributes(r))}attributes(r=this){return i.pick(r,this.keys())}[i.copy.key](){return i.variant(this)}[i.isEqual.key](r){return this.constructor===r.constructor&&i.isEqual(this.attributes(),r.attributes())}}},1279:()=>{up.Rect=class extends up.Record{keys(){return["left","top","width","height"]}get bottom(){return this.top+this.height}get right(){return this.left+this.width}grow(a){this.left-=a,this.top-=a,this.width+=2*a,this.height+=2*a}static fromElement(a){return new this(a.getBoundingClientRect())}}},2714:()=>{var i;const a=up.util;up.RenderJob=(i=class{constructor(t){this.options=t}execute(){return this.yr=this.wr(),this}async wr(){try{this.br(),this.options=up.RenderOptions.preprocess(this.options);let t=await this.vr().execute();return this._r(t),t}catch(t){throw this._r(t)||this.kr(t),t}}_r(t){if(t instanceof up.RenderResult){let{onRendered:e,onFinished:n}=t.options;t.none||up.error.guard(()=>e==null?void 0:e(t));let s=function(u){up.error.guard(()=>n==null?void 0:n(u))};return this.finished.then(s,a.noop),!0}}kr(t){let e=t instanceof up.Aborted?"Rendering was aborted":"Error while rendering";up.puts("up.render()",`${e}: ${t.name}: ${t.message}`),up.error.guard(()=>{var n,s;return(s=(n=this.options).onError)==null?void 0:s.call(n,t)})}get finished(){return this.Sr()}async Sr(){try{return await(await this.yr).finished}catch(t){throw t instanceof up.RenderResult?await t.finished:t}}vr(){if(this.options.url){let t=e=>this.Er(e);return new up.Change.FromURL({...this.options,onRequest:t})}if(this.options.response){let t=()=>this.Er(null);return new up.Change.FromResponse({...this.options,onRender:t})}{let t=()=>this.Er(null);return new up.Change.FromContent({...this.options,onRender:t})}}br(){up.browser.assertConfirmed(this.options);let t=a.pluckKey(this.options,"guardEvent");if(t&&(t.renderOptions=this.options,up.emit(t,{target:this.options.origin}).defaultPrevented))throw new up.Aborted(`Rendering was prevented by ${t.type} listener`);up.RenderOptions.assertContentGiven(this.options)}Er(t){let{abort:e}=this.options;if(!e||!up.network.isBusy())return;let{fragments:n,layer:s,origin:u,newLayer:f}=this.vr().getPreflightProps(),w={except:t,logOnce:["up.render()","Change with { abort } option will abort other requests"],newLayer:f,origin:u};e==="target"?up.fragment.abort(n,w):e==="layer"?up.fragment.abort({...w,layer:s}):e==="all"||e===!0?up.fragment.abort({...w,layer:"any"}):a.isFunction(e)?e(w):up.fragment.abort(e,{...w,layer:s})}},a.delegate(i.prototype,["then","catch","finally"],function(){return this.yr}),a.memoizeMethod(i.prototype,{Sr:!0,vr:!0}),i)},2705:()=>{const i=up.util;up.RenderOptions=function(){const a={useHungry:!0,useKeep:!0,saveScroll:!0,saveFocus:!0,focus:"keep",abort:"target",failOptions:!0},r={abort:!1,confirm:!1,feedback:!1,cache:!0,background:!0},t=["url","method","origin","headers","params","cache","fallback","abort","abortable","confirm","feedback","origin","originLayer","baseLayer","fail","onError"].concat(["keep","hungry","history","source","saveScroll","navigate","baseLayer"]),e=["url","response","content","fragment","document"],n=["history","focus","scroll"];function s({origin:u,originLayer:f}){if(u&&!f)return{originLayer:up.layer.get(u)}}return{preprocess:function(u){var w,A;(A=(w=up.migrate).preprocessRenderOptions)==null||A.call(w,u);const f=i.merge(a,function(C){if(C.navigate)return up.fragment.config.navigateOptions}(u));return i.merge(i.omit(f,n),{defaults:f},{inputDevice:up.event.inputDevice},u,function({url:C}){if(C)return{url:i.normalizeURL(C)}}(u),s(u),function(C){if(C.preload)return r}(u))},finalize:function(u,f){return i.merge(u.defaults,f,u)},assertContentGiven:function(u){i.some(e,f=>i.isGiven(u[f]))||(u.defaultToEmptyContent?u.content="":up.fail("up.render() needs either { "+e.join(", ")+" } option"))},deriveFailOptions:function(u){let f=function(A){const C={};for(let h in A){const E=A[h];let O=up.fragment.successKey(h);O&&(C[O]=E)}return C}(u),w=s(f);return u.failOptions?{...u.defaults,...i.pick(u,t),...f,...w,failPrefixForced:!0}:{...u,...f,...w}}}}()},606:()=>{up.RenderResult=class extends up.Record{keys(){return["fragments","layer","target","options","finished"]}defaults(){return{fragments:[]}}get none(){return!this.fragments.length}get fragment(){return this.fragments[0]}static both(a,r,t=!0){return r?new this({target:a.target,layer:a.layer,options:a.options,fragments:a.fragments.concat(r.fragments),finished:t&&this.mergeFinished(a,r)}):a}static async mergeFinished(a,r){return this.both(await a.finished,await r.finished,!1)}static buildNone(){return new this({target:":none",finished:Promise.resolve()})}}},5437:()=>{var i;const a=up.util;up.Request=(i=class extends up.Record{keys(){return["method","url","hash","params","target","failTarget","headers","timeout","background","cache","expireCache","evictCache","layer","mode","context","failLayer","failMode","failContext","origin","fragments","builtAt","wrapMethod","contentType","payload","onLoading","fail","abortable","badResponseTime"]}defaults(){return{state:"new",abortable:!0,headers:{},timeout:up.network.config.timeout,builtAt:new Date}}constructor(t){var e,n;if(super(t),this.params=new up.Params(this.params),this.wrapMethod==null&&(this.wrapMethod=up.network.config.wrapMethod),this.Or(),(this.target||this.layer||this.origin)&&!t.basic){const s={origin:this.origin};this.layer=up.layer.get(this.layer,s),this.failLayer=up.layer.get(this.failLayer,s),this.context||(this.context=this.layer.context||{}),this.failContext||(this.failContext=((e=this.failLayer)==null?void 0:e.context)||{}),this.mode||(this.mode=this.layer.mode),this.failMode||(this.failMode=(n=this.failLayer)==null?void 0:n.mode)}this.deferred=a.newDeferred(),this.badResponseTime??(this.badResponseTime=a.evalOption(up.network.config.badResponseTime,this)),this.Cr()}get xhr(){return this.Fr??(this.Fr=new XMLHttpRequest)}get fragments(){if(this.Tr)return this.Tr;{let t=up.fragment.parseTargetSteps(this.target),e=a.map(t,"selector"),n={origin:this.origin,layer:this.layer};return a.compact(a.map(e,s=>up.fragment.get(s,n)))}}set fragments(t){this.Tr=t}get fragment(){var t;return(t=this.fragments)==null?void 0:t[0]}Or(){this.method=a.normalizeMethod(this.method),this.Rr(),this.Lr(),this.url=a.normalizeURL(this.url)}Ar(){a.task(()=>{this.layer=void 0,this.failLayer=void 0,this.origin=void 0,this.fragments=void 0})}Rr(){var e;let t=(e=this.url)==null?void 0:e.match(/^([^#]*)(#.+)$/);if(t)return this.url=t[1],this.hash=t[2]}Lr(){!this.url||this.allowsPayload()||a.isBlank(this.params)||(this.url=this.params.toURL(this.url),this.params.clear())}isSafe(){return up.network.isSafeMethod(this.method)}allowsPayload(){return a.methodAllowsPayload(this.method)}will302RedirectWithGET(){return this.isSafe()||this.method==="POST"}willCache(){return a.evalAutoOption(this.cache,up.network.config.autoCache,this)}runQueuedCallbacks(){a.always(this,()=>this.Ar())}load(){var t;if(this.state==="new")return this.Pr()?(this.state="loading",this.Or(),(t=this.onLoading)==null||t.call(this),this.expired=!1,new up.Request.XHRRenderer(this).buildAndSend({onload:()=>this.$r(),onerror:()=>this.Dr(),ontimeout:()=>this.Mr(),onabort:()=>this.Hr()}),!0):void this.abort({reason:"Prevented by event listener"})}Pr(){return!this.emit("up:request:load",{log:["Loading %s",this.description]}).defaultPrevented}loadPage(){up.network.abort(),new up.Request.FormRenderer(this).buildAndSubmit()}$r(){const t=this.Nr(),e="Loaded "+t.description;this.emit("up:request:loaded",{request:t.request,response:t,log:e}),this.respondWith(t)}Dr(){this.jr("Network error")}Mr(){this.jr("Timeout")}Hr(){this.qr()}abort({reason:t}={}){this.qr(t)&&this.Fr&&this.Fr.abort()}qr(t){if(this.Br())return;let e="Aborted request to "+this.description+(t?": "+t:"");return this.state="aborted",this.deferred.reject(new up.Aborted(e)),this.emit("up:request:aborted",{log:e}),!0}jr(t){if(this.Br())return;let e="Cannot load request to "+this.description+(t?": "+t:"");this.state="offline",this.emit("up:request:offline",{log:e}),this.deferred.reject(new up.Offline(e))}respondWith(t){this.response=t,this.Br()||(this.state="loaded",t.ok?this.deferred.resolve(t):this.deferred.reject(t))}Br(){return this.state!=="new"&&this.state!=="loading"&&this.state!=="tracking"}csrfHeader(){return up.protocol.csrfHeader()}csrfParam(){return up.protocol.csrfParam()}csrfToken(){if(!this.isSafe()&&!this.isCrossOrigin())return up.protocol.csrfToken()}isCrossOrigin(){return a.isCrossOrigin(this.url)}Nr(){const t={method:this.method,url:this.url,request:this,xhr:this.xhr,text:this.xhr.responseText,status:this.xhr.status,title:up.protocol.titleFromXHR(this.xhr),target:up.protocol.targetFromXHR(this.xhr),acceptLayer:up.protocol.acceptLayerFromXHR(this.xhr),dismissLayer:up.protocol.dismissLayerFromXHR(this.xhr),eventPlans:up.protocol.eventPlansFromXHR(this.xhr),context:up.protocol.contextFromXHR(this.xhr),expireCache:up.protocol.expireCacheFromXHR(this.xhr),evictCache:up.protocol.evictCacheFromXHR(this.xhr),fail:this.fail};let e=up.protocol.methodFromXHR(this.xhr),n=up.protocol.locationFromXHR(this.xhr);return n&&(a.matchURLs(this.url,n)||e||(e="GET"),t.url=n),e&&(t.method=e),new up.Response(t)}Ji(t){return up.EventEmitter.fromEmitArgs(t,{layer:this.layer,request:this,origin:this.origin})}emit(...t){return this.Ji(t).emit()}assertEmitted(...t){this.Ji(t).assertEmitted()}get description(){return this.method+" "+this.url}isPartOfSubtree(t){return t=a.wrapList(t),a.some(this.fragments,function(e){return a.some(t,n=>n.contains(e))})}get age(){return new Date-this.builtAt}header(t){return this.headers[t]}Cr(){for(let n of["target","failTarget","mode","failMode","context","failContext"])this.Ur(n);let t,e;(t=this.csrfHeader())&&(e=this.csrfToken())&&this.zr(t,e),this.zr(up.protocol.headerize("version"),up.version)}Ur(t){this.zr(up.protocol.headerize(t),this[t])}zr(t,e){a.isMissing(e)||((a.isOptions(e)||a.isArray(e))&&(e=a.safeStringifyJSON(e)),this.headers[t]=e)}mergeIfUnsent(t){if(this.state!=="new"||!this.target||!t.target)return;let e=up.fragment.splitTarget(this.target+","+t.target);this.target=a.uniq(e).join(", "),this.Ur("target"),this.Tr=a.uniq([...this.fragments,...t.fragments])}static tester(t,{except:e}={}){let n;if(a.isFunction(t))n=t;else if(t instanceof this)n=s=>t===s;else if(a.isString(t)){let s=new up.URLPattern(t);n=u=>s.test(u.url)}else n=s=>t;return e?s=>!up.cache.willHaveSameResponse(s,e)&&n(s):n}},a.delegate(i.prototype,["then","catch","finally"],function(){return this.deferred}),i)},7974:()=>{const i=up.util;class a{constructor(){this.varyHeaders=new Set,this.requests=[]}matchBest(t){let e=this.requests.filter(n=>this.satisfies(n,t));return i.last(e)}delete(t){i.remove(this.requests,t)}put(t){this.requests.push(t)}updateVary(t){for(let e of t.varyHeaderNames)this.varyHeaders.add(e)}satisfies(t,e){return t===e||i.every(this.varyHeaders,n=>{let s=t.header(n),u=e.header(n);if(n==="X-Up-Target"||n==="X-Up-Fail-Target"){if(!s)return!0;if(!u)return!1;let f=i.parseTokens(s,{separator:"comma"}),w=i.parseTokens(u,{separator:"comma"});return i.containsAll(f,w)}return s===u})}}up.Request.Cache=class{constructor(){this.reset()}reset(){this.Ir={},this.Kr=[]}get(t){t=this.Vr(t);let e=this.Xr(t),n=e.matchBest(t);if(n){if(this.Wr(n))return n;this.Jr(t,e)}}async put(t){t=this.Vr(t);let e=this.Xr(t),{response:n}=t;n&&e.updateVary(n);let s=e.requests.filter(u=>e.satisfies(t,u));for(let u of s)this.Jr(u);t.cacheRoute=e,e.put(t),this.Kr.push(t),this.Gr()}alias(t,e){if(t=this.get(t))return e=this.Vr(e),this.track(t,e,{force:!0}),this.put(e),e}async track(t,e,n={}){var u;e.trackedRequest=t,e.state="tracking";let s=await i.always(t);s instanceof up.Response?n.force||t.cacheRoute.satisfies(t,e)?(e.fromCache=!0,s=i.variant(s,{request:e}),e.respondWith(s),i.delegate(e,["expired","state"],()=>t)):(delete e.trackedRequest,e.state="new",(u=n.onIncompatible)==null||u.call(n,e)):(e.state=t.state,e.deferred.reject(s))}willHaveSameResponse(t,e){return t===e||t===e.trackedRequest}evict(t=!0,e){this.Qr(t,e,n=>this.Jr(n))}expire(t=!0,e){this.Qr(t,e,n=>n.expired=!0)}reindex(t){this.Jr(t),delete t.cacheRoute,this.put(t)}Jr(t){var e;i.remove(this.Kr,t),(e=t.cacheRoute)==null||e.delete(t)}Xr(t){var e,n;return t.cacheRoute||(e=this.Ir)[n=t.description]||(e[n]=new a)}Wr(t){return t.age<up.network.config.cacheEvictAge}get Yr(){return this.Kr.length}get Ln(){return up.network.config.cacheSize}Gr(){for(let t=0;t<this.Yr-this.Ln;t++)this.Jr(this.Kr[0])}Qr(t=!0,e,n){let s=up.Request.tester(t,e),u=i.filter(this.Kr,s);i.each(u,n)}Vr(t){return i.wrapValue(up.Request,t)}}},5221:()=>{const i=up.util,a=up.element,r=["GET","POST"];up.Request.FormRenderer=class{constructor(e){this.gt=e}buildAndSubmit(){this.params=i.copy(this.gt.params);let e=this.gt.url,{method:n}=this.gt;const s=up.Params.fromURL(e);this.params.addAll(s),e=up.Params.stripURL(e),i.contains(r,n)||(n=up.protocol.wrapMethod(n,this.params)),this.Dn=a.affix(document.body,"form.up-request-loader",{method:n,action:e});let u,f,w=this.gt.contentType;w&&this.Dn.setAttribute("enctype",w),(u=this.gt.csrfParam())&&(f=this.gt.csrfToken())&&this.params.add(u,f),i.each(this.params.toArray(),this.Zr.bind(this)),up.browser.submitForm(this.Dn)}Zr(e){a.affix(this.Dn,"input[type=hidden]",e)}}},6413:()=>{const i=up.util;up.Request.Queue=class{constructor(){this.reset()}reset(){this.eo=[],this.no=[],this.io=!1}get allRequests(){return this.no.concat(this.eo)}asap(r){r.runQueuedCallbacks(),i.always(r,t=>this.Et(r,t)),this.so(r),this.ro(r),queueMicrotask(()=>this.oo())}promoteToForeground(r){r.background&&(r.background=!1,this.so(r))}so(r){let t=Math.max(r.badResponseTime-r.age,0);i.timer(t,()=>this.uo())}ao(){return i.evalOption(up.network.config.concurrency)}ho(){const r=this.ao();return r===-1||this.no.length<r}isBusy(){return this.no.length>0||this.eo.length>0}ro(r){this.eo.push(r)}co(){let r=i.find(this.eo,t=>!t.background);return r||(r=this.eo[0]),i.remove(this.eo,r)}lo(r){r.load()&&this.no.push(r)}Et(r,t){i.remove(this.no,r)||i.remove(this.eo,r),t instanceof up.Response&&t.ok&&up.network.registerAliasForRedirect(r,t),this.uo(),queueMicrotask(()=>this.oo())}oo(){let r;if(this.ho()&&(r=this.co()))return this.lo(r)}abort(...r){let t=i.extractOptions(r),{except:e,reason:n,logOnce:s}=t,u=r[0]??!0,f=up.Request.tester(u,{except:e});for(let w of[this.no,this.eo]){const A=i.filter(w,f);for(let C of A)s&&(up.puts(...s),s=null),C.abort({reason:n}),i.remove(w,C)}}uo(){const r=this.po();this.io!==r&&(this.io=r,r?up.emit("up:network:late",{log:"Server is slow to respond"}):up.emit("up:network:recover",{log:"Slow requests were loaded"}))}po(){const r=i.reject(this.allRequests,"background");return i.some(r,t=>t.age>=t.badResponseTime-1)}}},2298:()=>{var i;const a="multipart/form-data",r=up.util;up.Request.XHRRenderer=(i=class{constructor(e){this.gt=e}buildAndSend(e){const n=this.gt.xhr;this.fo=r.copy(this.gt.params),this.gt.timeout&&(n.timeout=this.gt.timeout),n.open(this.do(),this.gt.url);let s=this.mo();s&&n.setRequestHeader("Content-Type",s);for(let u in this.gt.headers){let f=this.gt.headers[u];n.setRequestHeader(u,f)}Object.assign(n,e),n.send(this.yo())}do(){let e=this.gt.method;return this.gt.wrapMethod&&!this.gt.will302RedirectWithGET()&&(e=up.protocol.wrapMethod(e,this.fo)),e}mo(){return this.wo(),this.bo}yo(){return this.wo(),this.vo}wo(){this.vo=this.gt.payload,this.bo=this.gt.contentType,!this.vo&&this.gt.allowsPayload()&&(this.bo||(this.bo=this.fo.hasBinaryValues()?a:"application/x-www-form-urlencoded"),this.bo===a?(this.bo=null,this.vo=this.fo.toFormData()):this.vo=this.fo.toQuery().replace(/%20/g,"+"))}},r.memoizeMethod(i.prototype,{wo:!0,do:!0}),i)},4517:()=>{const i=up.util;up.Response=class extends up.Record{keys(){return["method","url","text","status","request","xhr","target","title","acceptLayer","dismissLayer","eventPlans","context","expireCache","evictCache","headers","loadedAt","fail"]}defaults(){return{headers:{},loadedAt:new Date}}get ok(){return!i.evalOption(this.fail??up.network.config.fail,this)}get none(){return!this.text}header(r){var t;return this.headers[r]||((t=this.xhr)==null?void 0:t.getResponseHeader(r))}get varyHeaderNames(){let r=this.header("Vary");return i.parseTokens(r,{separator:"comma"})}get contentType(){return this.header("Content-Type")}get cspNonces(){return up.protocol.cspNoncesFromHeader(this.header("Content-Security-Policy")||this.header("Content-Security-Policy-Report-Only"))}get lastModified(){let r=this.header("Last-Modified");if(r)return new Date(r)}get etag(){return this.header("ETag")}get json(){return this.parsedJSON||(this.parsedJSON=JSON.parse(this.text))}get age(){return new Date-this.loadedAt}get expired(){return this.age>up.network.config.cacheExpireAge||this.request.expired}get description(){return`HTTP ${this.status} response to ${this.request.description}`}}},7241:()=>{var i;const a=up.util,r=up.element,t=/^\s*<(html|!DOCTYPE)\b/i;up.ResponseDoc=(i=class{constructor({document:n,fragment:s,content:u,target:f,origin:w,cspNonces:A,match:C}){if(n?this._o(n):s?this.ko(s):this.So(u||"",f),this.xo=A,w){let h=up.fragment.tryToTarget(w);h&&(this.Eo=this.select(h))}this.ii=C}_o(n){n instanceof Document?(this.ni=n,this.Oo=!0):a.isString(n)?(this.ni=r.createBrokenDocumentFromHTML(n),this.Oo=t.test(n),this.Co=!0):(this.ni=this.Fo(n),this.Oo=n.matches("html"))}ko(n){let s=a.isString(n)?r.createFromHTML(n):n;this.ni=this.Fo(s)}So(n,s){s||up.fail("must pass a { target } when passing { content }");let u=a.map(up.fragment.parseTargetSteps(s),"selector").join();const f=r.createFromSelector(u);a.isString(n)?f.innerHTML=n:f.appendChild(n),this.ni=this.Fo(f)}Fo(n){let s=document.createElement("up-document");return s.append(n),s.documentElement=n,s}rootSelector(){return up.fragment.toTarget(this.ni.documentElement)}get title(){return this.To(this.Ro)}Lo(){if(this.Oo)return this.ni.head}To(n){let s=this.Lo();return s&&n(s)}get metaTags(){return this.To(up.history.findMetaTags)}get assets(){return this.To(up.script.findAssets)}get lang(){if(this.Oo)return up.history.getLang(this.ni)}Ro(n){var s;return(s=n.querySelector("title"))==null?void 0:s.textContent}select(n){return new up.FragmentFinder({selector:n,origin:this.Eo,document:this.ni,match:this.ii}).find()}selectSteps(n){return n.filter(s=>this.Ao(s)||this.Po(s))}commitSteps(n){return n.filter(s=>this.commitElement(s.newElement))}Ao(n){if(n.newElement)return!0;let s=this.select(n.selector);if(!s)return;let{selectEvent:u}=n;return u&&(u.newFragment=s,u.renderOptions=n.originalRenderOptions,up.emit(n.oldElement,u,{callback:n.selectCallback}),u.defaultPrevented)?void 0:(n.newElement=s,!0)}Po(n){if(!n.maybe)throw new up.CannotMatch}commitElement(n){if(this.ni.contains(n))return up.fragment.config.runScripts||up.script.disableSubtree(n),n.remove(),!0}finalizeElement(n){if(up.NonceableCallback.adoptNonces(n,this.xo),this.Co){let s=r.subtree(n,":is(noscript,script,audio,video):not(.up-keeping, .up-keeping *)");a.each(s,r.fixParserDamage)}}},a.memoizeMethod(i.prototype,{Lo:!0}),i)},2723:()=>{const i=up.element,a=up.util;up.RevealMotion=class{constructor(t,e={}){this.H=t,this.$o=i.get(e.viewport)||up.viewport.get(this.H),this.Do=up.layer.get(this.$o),this.Mo=e.scrollBehavior??e.behavior??"instant";const n=up.viewport.config;this.Ho=e.snap??e.revealSnap??n.revealSnap,this.No=e.padding??e.revealPadding??n.revealPadding,this.jo=e.top??e.revealTop??n.revealTop,this.qo=e.max??e.revealMax??n.revealMax,this.Bo=n.selector("fixedTopSelectors"),this.Uo=n.selector("fixedBottomSelectors")}start(){const t=this.zo(this.$o),e=up.Rect.fromElement(this.H);if(this.qo){const u=a.evalOption(this.qo,this.H);e.height=Math.min(e.height,u)}e.grow(this.No),this.Io(t),t.height<0&&up.fail("Viewport has no visible area");const n=this.$o.scrollTop;let s=n;this.jo||e.height>t.height?s+=e.top-t.top:e.top<t.top?s-=t.top-e.top:e.bottom>t.bottom&&(s+=e.bottom-t.bottom),a.isNumber(this.Ho)&&s<this.Ho&&e.top<.5*t.height&&(s=0),s!==n&&this.$o.scrollTo({top:s,behavior:this.Mo})}zo(){return up.viewport.isRoot(this.$o)?new up.Rect({left:0,top:0,width:up.viewport.rootWidth(),height:up.viewport.rootHeight()}):up.Rect.fromElement(this.$o)}Ko(t){let e=up.fragment.all(t,{layer:this.Do});return a.filter(e,i.isVisible)}Io(t){for(let e of this.Ko(this.Bo)){let n=up.Rect.fromElement(e).bottom-t.top;n>0&&(t.top+=n,t.height-=n)}for(let e of this.Ko(this.Uo)){let n=up.Rect.fromElement(e),s=t.bottom-n.top;s>0&&(t.height-=s)}}}},8720:()=>{const i=up.util,a=/:has\(([^)]+)\)$/;up.Selector=class{constructor(t,e,n={}){let s;if(this.Vo=[],n.destroying||this.Vo.push(up.fragment.isNotDestroying),e&&!document.contains(e)||n.layer==="any")s=up.layer.root;else{if(n.layer??(n.layer=i.presence(e,i.isElement)),this.W=up.layer.getAll(n),!this.W.length)throw new up.CannotMatch(["Unknown layer: %o",n.layer]);this.Vo.push(f=>i.some(this.W,w=>w.contains(f))),s=this.W[0]}let u=up.fragment.expandTargets(t,{...n,layer:s});this.Xo=u.map(f=>(up.browser.canHasSelector()||(f=f.replace(a,(w,A)=>(this.Vo.push(C=>C.querySelector(A)),""))),f||"*")),this.Wo=this.Xo.join()||"match-none"}matches(t){return t.matches(this.Wo)&&this.Jo(t)}closest(t){let e;return this.matches(t)?t:(e=t.parentElement)?this.closest(e):void 0}Jo(t){return i.every(this.Vo,e=>e(t))}descendants(t=document){const e=i.flatMap(this.Xo,n=>t.querySelectorAll(n));return i.filter(e,n=>this.Jo(n))}subtree(t){const e=[];return t instanceof Document||!this.matches(t)||e.push(t),e.push(...this.descendants(t)),e}}},7885:()=>{const i=up.util,a=up.element;up.Tether=class{constructor(t){var e,n;(n=(e=up.migrate).handleTetherOptions)==null||n.call(e,t),this.Go=t.anchor,this.Qo=t.align,this.Yo=t.position,this.Zo=this.Yo==="top"||this.Yo==="bottom"?"horizontal":"vertical",this.$o=up.viewport.get(this.Go),this.parent=this.$o===a.root?document.body:this.$o,this.tu=!this.$o.contains(this.Go.offsetParent)}start(t){this.H=t,this.H.style.position="absolute",this.eu(0,0),this.sync(),this.nu("on")}stop(){this.nu("off")}nu(t){let e=this.iu.bind(this);up[t](window,"resize",e),this.tu&&up[t](this.$o,"scroll",e)}iu(){return clearTimeout(this.syncTimer),this.syncTimer=i.task(this.sync.bind(this))}isDetached(){return!this.parent.isConnected||!this.Go.isConnected}sync(){const t=this.H.getBoundingClientRect(),e=a.styleNumber(this.H,"margin-top"),n=a.styleNumber(this.H,"margin-right"),s=a.styleNumber(this.H,"margin-bottom"),u=a.styleNumber(this.H,"margin-left"),f=this.Go.getBoundingClientRect();let w,A;switch(this.Zo){case"horizontal":switch(this.Yo){case"top":A=f.top-s-t.height;break;case"bottom":A=f.top+f.height+e}switch(this.Qo){case"left":w=f.left+u;break;case"center":w=f.left+.5*(f.width-t.width);break;case"right":w=f.left+f.width-t.width-n}break;case"vertical":switch(this.Qo){case"top":A=f.top+e;break;case"center":A=f.top+.5*(f.height-t.height);break;case"bottom":A=f.top+f.height-t.height-s}switch(this.Yo){case"left":w=f.left-n-t.width;break;case"right":w=f.left+f.width+u}}i.isDefined(w)||i.isDefined(A)?this.dr(w,A):up.fail("Invalid tether constraints: %o",this.su())}su(){return{position:this.Yo,align:this.Qo}}dr(t,e){const n=this.H.getBoundingClientRect();this.eu(t-n.left+this.offsetLeft,e-n.top+this.offsetTop)}eu(t,e){this.offsetLeft=t,this.offsetTop=e,a.setStyle(this.H,{left:t,top:e},"px")}}},4818:()=>{const i=up.util;up.URLPattern=class{constructor(r){this.ru=[];const t=[],e=[];for(let n of i.parseTokens(r))n[0]==="-"?e.push(n.substring(1)):t.push(n);this.ou=this.uu(t,!0),this.au=this.uu(e,!1)}uu(r,t){if(!r.length)return;let e=(r=(r=i.flatMap(r,i.matchableURLPatternAtom)).map(i.escapeRegExp)).join("|");return e=e.replace(/\\\*/g,".*?"),e=e.replace(/(:|\\\$)([a-z][\w-]*)/gi,(n,s,u)=>s==="\\$"?(t&&this.ru.push({name:u,cast:Number}),"(\\d+)"):(t&&this.ru.push({name:u,cast:String}),"([^/?#]+)")),new RegExp("^(?:"+e+")$")}test(r,t=!0){return t&&(r=i.matchableURL(r)),this.ou.test(r)&&!this.hu(r)}recognize(r,t=!0){t&&(r=i.matchableURL(r));let e=this.ou.exec(r);if(e&&!this.hu(r)){const n={};return this.ru.forEach((s,u)=>{let f=e[u+1];if(f)return n[s.name]=s.cast(f)}),n}}hu(r){var t;return(t=this.au)==null?void 0:t.test(r)}}},9675:(i,a,r)=>{r(1860),up.element=function(){const t=up.util;function e(...c){const v=c.pop();return(c[0]||document).querySelector(v)}function n(c,v){const L=[];return c.matches(v)&&L.push(c),L.push(...c.querySelectorAll(v)),L}function s(...c){const v=c.pop();return t.isElement(v)?v:t.isString(v)?e(...c,v):t.isList(v)?(v.length>1&&up.fail("up.element.get(): Cannot cast multiple elements (%o) to a single element",v),v[0]):v}function u(...c){return t.flatMap(c,f)}function f(c){return t.isString(c)?document.querySelectorAll(c):t.wrapList(c)}function w(c){c.setAttribute("hidden","")}function A(c){c.removeAttribute("hidden"),c.style.display==="none"&&(c.style.display="")}function C(c,v){for(let L in v){const U=v[L];t.isGiven(U)?c.setAttribute(L,U):c.removeAttribute(L)}}function h(c,v={}){let L,U,y,{includePath:b}=E(c);for(let R of b){let{tagName:P,id:j,classNames:V,attributes:B}=R;P&&P!=="*"||(P="div"),U=document.createElement(P),L||(L=U),j&&(U.id=j);for(let _ of V)U.classList.add(_);for(let _ in B){let J=B[_];U.setAttribute(_,J||"")}y==null||y.appendChild(U),y=U}for(let R in v){let P=v[R];if(R==="class")for(let j of t.wrapList(P))L.classList.add(j);else R==="style"?D(L,P):R==="text"?L.textContent=P:R==="content"?L.innerHTML=P:L.setAttribute(R,P)}return L}function E(c){let v;const L=c.replace(/:not\([^)]+\)/,function(b){return v=b,""}),[U,y]=function(b){let R=[];return[b=T(b,function({name:P,value:j}){return R.push(j),`[${P}]`}),R]}(L);return{includePath:U.split(/[ >]+/).map(function(b){let R={tagName:null,classNames:[],id:null,attributes:{}};return b=(b=(b=b.replace(/^[\w-*]+/,function(P){return R.tagName=P,""})).replace(/#([\w-]+)/,function(P,j){return R.id=j,""})).replace(/\.([\w-]+)/g,function(P,j){return R.classNames.push(j),""}),y.length&&(b=T(b,function({name:P}){return R.attributes[P]=y.shift(),""})),b&&up.fail("Cannot parse selector: "+c),R}),includeRaw:L,excludeRaw:v}}const O=/\[([\w-]+)(?:([~|^$*]?=)(["'])?([^\3\]]*?)\3)?]/g;function T(c,v){return c.replace(O,function(L,U,y,b,R){return R&&(R=R.replace(/\\([\\"'])/,"$1")),v({name:U,operator:y,quote:b,value:R})})}const M=["HTML","BODY","HEAD","TITLE"];function N(c,v){return t.isGiven(v)?`[${c}="${v=v.replace(/"/g,'\\"')}"]`:`[${c}]`}function z(c){const v=document.createRange();v.setStart(document.body,0);let L=v.createContextualFragment(c.trim()).childNodes;if(L.length!==1)throw new Error("HTML must have a single root element");return L[0]}function G(c){c.offsetHeight}function I(c,v,L){t.isMissing(c.getAttribute(v))&&c.setAttribute(v,L)}function K(c,v){let L=c.getAttribute(v);return t.replaceValue(L,null,void 0)}function m(c,v,L){if(!c.hasAttribute(v))return;const U=K(c,v);switch(U){case"false":return!1;case"true":case"":case v:return!0;default:return!L||U}}function l(c,v){const L=p(c,Object.keys(v));return D(c,v),()=>D(c,L)}function k(c,v){return S(window.getComputedStyle(c),v)}function g(c,v){const L=k(c,v);if(t.isPresent(L))return parseFloat(L)}function p(c,v){const{style:L}=c;return S(L,v)}function S(c,v){return up.migrate.loaded&&(v=up.migrate.fixStyleProps(v)),t.isString(v)?c.getPropertyValue(v):t.mapObject(v,L=>[L,c.getPropertyValue(L)])}function D(c,v,L=""){if(up.migrate.loaded&&(v=up.migrate.fixStyleProps(v,L)),t.isString(v))c.setAttribute("style",v);else{const{style:U}=c;for(let y in v){let b=v[y];U.setProperty(y,b+L)}}}function $(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)}function q(c){return/^up-/.test(c)}return{subtree:n,contains:function(c,v){const L=s(v);return Node.prototype.contains.call(c,L)},closestAttr:function(c,v,L=K){let U=c.closest("["+v+"]");if(U)return L(U,v)},ancestor:function(c,v){var L;return(L=c.parentNode)==null?void 0:L.closest(v)},around:function(c,v){return u(c.closest(v),n(c,v))},get:s,list:u,toggle:function(c,v){v==null&&(v=!$(c)),(v?A:w)(c)},hide:w,show:A,metaContent:function(c){var L;const v="meta"+N("name",c);return(L=e(v))==null?void 0:L.getAttribute("content")},insertBefore:function(c,v){c.insertAdjacentElement("beforebegin",v)},createFromSelector:h,setAttrs:C,setTemporaryAttrs:function(c,v){const L={};for(let U of Object.keys(v))L[U]=c.getAttribute(U);return C(c,v),()=>C(c,L)},affix:function(c,...v){let L,U;const y=t.extractOptions(v);v.length===2?[L,U]=v:(L="beforeend",U=v[0]);const b=h(U,y);return c.insertAdjacentElement(L,b),b},idSelector:function(c){return c.match(/^[a-z][a-z0-9\-_]*$/i)?`#${c}`:N("id",c)},classSelector:function(c){return`.${c=c.replace(/[^\w-]/g,"\\$&")}`},isSingleton:up.mockable(c=>c.matches(M.join())),attrSelector:N,tagName:function(c){return c.tagName.toLowerCase()},createBrokenDocumentFromHTML:function(c){return new DOMParser().parseFromString(c,"text/html")},fixParserDamage:function(c){let v=z(c.outerHTML);c.replaceWith(v)},createFromHTML:z,get root(){return document.documentElement},paint:G,concludeCSSTransition:function(c){const v=l(c,{transition:"none"});return G(c),v},hasCSSTransition:function(c){const v=c["transition-property"],L=c["transition-duration"];return!(v==="none"||v==="all"&&L===0)},fixedToAbsolute:function(c){const v=c.getBoundingClientRect();c.style.position="absolute";const L=c.offsetParent.getBoundingClientRect();D(c,{left:v.left-g(c,"margin-left")-L.left+"px",top:v.top-g(c,"margin-top")-L.top+"px",right:"",bottom:""})},setMissingAttrs:function(c,v){for(let L in v)I(c,L,v[L])},setMissingAttr:I,unwrap:function(c){(function(v){const L=document.activeElement;try{return function(){const U=c.parentNode,y=t.toArray(c.childNodes);t.each(y,b=>U.insertBefore(b,c)),U.removeChild(c)}()}finally{L&&L!==document.activeElement&&L.focus({preventScroll:!0})}})()},wrapChildren:function(c){let v;const L=document.createElement("up-wrapper");for(;v=c.firstChild;)L.appendChild(v);return c.appendChild(L),L},attr:K,booleanAttr:m,numberAttr:function(c,v){let L=c.getAttribute(v);if(L&&(L=L.replace(/_/g,""),L.match(/^-?[\d.]+$/)))return parseFloat(L)},jsonAttr:function(c,v){var U,y;let L=(y=(U=c.getAttribute)==null?void 0:U.call(c,v))==null?void 0:y.trim();if(L)return JSON.parse(L)},callbackAttr:function(c,v,{exposedKeys:L=[],mainKey:U="event"}={}){let y=c.getAttribute(v);if(y){const b=up.NonceableCallback.fromString(y).toFunction(U,...L);return function(R){const P=Object.values(t.pick(R,L));return b.call(c,R,...P)}}},booleanOrStringAttr:function(c,v,L=!0){let U=m(c,v,!0);return U===!0?L:U},setTemporaryStyle:l,style:k,styleNumber:g,inlineStyle:p,setStyle:D,isVisible:$,upAttrs:function(c){let v=t.filter(c.getAttributeNames(),q);return t.mapObject(v,L=>[L,c.getAttribute(L)])},upClasses:function(c){return t.filter(c.classList.values(),q)},toggleAttr:function(c,v,L,U){return U==null&&(U=!c.hasAttribute(v)),U?c.setAttribute(v,L):c.removeAttribute(v)},addTemporaryClass:function(c,v){return c.classList.add(v),()=>c.classList.remove(v)},cleanJQuery:function(c){up.browser.canJQuery()&&jQuery(c).remove()},parseSelector:E,isEmpty:function(c){return!c.children.length>0&&!c.innerText.trim()},crossOriginSelector:function(c){return`[${c}*="//"]:not([${c}*="//${location.host}/"])`},isIntersectingWindow:function(c,{margin:v=0}={}){const L=up.Rect.fromElement(c);return L.grow(v),L.bottom>0&&L.top<window.innerHeight&&L.right>0&&L.left<window.innerWidth},unionSelector:function(c,v){let L=`:is(${c.join()})`;return t.isPresent(v)&&(L+=`:not(${v.join()})`),L}}}()},3924:()=>{up.error=function(){function i(r){if(typeof(t=r)!="object"||!(t.name==="AbortError"||t instanceof up.RenderResult||t instanceof up.Response))throw r;var t}function a(r){try{return r()}catch(t){(function(e){console.error("Uncaught %o",e);let n=new ErrorEvent("error",{error:e,message:"Uncaught "+e});window.dispatchEvent(n)})(t)}}return{fail:function(...r){throw new up.Error(r)},throwCritical:i,muteUncriticalRejection:function(r){return r.catch(i)},muteUncriticalSync:function(r){try{return r()}catch(t){i(t)}},guard:a,guardFn:function(r){return(...t)=>a(()=>r(...t))}}}(),up.fail=up.error.fail},4366:()=>{up.Aborted=class extends up.Error{constructor(a){super(a,{name:"AbortError"})}}},8010:()=>{up.CannotMatch=class extends up.Error{}},4861:()=>{up.CannotParse=class extends up.Error{}},3469:()=>{up.CannotTarget=class extends up.Error{}},376:()=>{up.Error=class extends window.Error{constructor(a,r={}){Array.isArray(a)&&(a=up.util.sprintf(...a)),super(a);let t="up."+this.constructor.name;Object.assign(this,{name:t},r)}}},8272:()=>{up.NotImplemented=class extends up.Error{}},4504:()=>{up.Offline=class extends up.Error{}},8670:()=>{up.event=function(){const i=up.util,a=up.element;function r(...C){return t(C).bind()}function t(C,h){return up.EventListenerGroup.fromBindArgs(C,h)}function e(C){return up.EventEmitter.fromEmitArgs(C)}function n(...C){const h=i.extractOptions(C),E=C[0]||h.type||up.fail("Missing event type"),O=new Event(E,{bubbles:!0,cancelable:!0});return Object.assign(O,i.omit(h,["type","target"])),O}const s=["metaKey","shiftKey","ctrlKey","altKey"];function u(C){return(i.isUndefined(C.button)||C.button===0)&&!i.some(s,h=>C[h])}function f(C,h,E=[]){const O=n(h,i.pick(C,E));return O.originalEvent=C,["stopPropagation","stopImmediatePropagation","preventDefault"].forEach(function(T){const M=O[T];return O[T]=function(){return C[T](),M.call(O)}}),C.defaultPrevented&&O.preventDefault(),O}r("up:click","[up-emit]",function(C,h){if(!u(C))return;const E=a.attr(h,"up-emit"),O=a.jsonAttr(h,"up-emit-props"),T=f(C,E);Object.assign(T,O),up.emit(h,T)});let w=["unknown"];function A(C){w.push(C),setTimeout(()=>w.pop())}return r("keydown keyup",{capture:!0},()=>A("key")),r("pointerdown pointerup",{capture:!0},()=>A("pointer")),r("up:framework:reset",function(){for(let C of[window,document,a.root,document.body])for(let h of up.EventListener.allNonDefault(C))h.unbind()}),{on:r,off:function(...C){return t(C).unbind()},build:n,emit:function(...C){return e(C).emit()},assertEmitted:function(...C){return e(C).assertEmitted()},onEscape:function(C){return r("keydown",function(h){if(h.key==="Escape")return C(h)})},halt:function(C,h={}){h.log&&up.log.putsEvent(C),C.stopImmediatePropagation(),C.preventDefault()},isUnmodified:u,isSyntheticClick:function(C){return i.isMissing(C.clientX)},fork:f,keyModifiers:s,get inputDevice(){return i.last(w)}}}(),up.on=up.event.on,up.off=up.event.off,up.emit=up.event.emit},454:()=>{up.feedback=function(){const i=up.util,a=up.element,r=new up.Config(()=>({currentClasses:["up-current"],navSelectors:["[up-nav]","nav"],noNavSelectors:["[up-nav=false]"]})),t="a, [up-href]";function e(f){return f.upFeedbackURLs||(f.upFeedbackURLs=new up.LinkFeedbackURLs(f))}function n(f,{layer:w}={}){w||(w=up.layer.get(f));let A=s(w);const C=r.selector("navSelectors"),h=`${C} :is(${t}), ${C}:is(${t})`,E=up.fragment.all(h,{layer:w});for(let O of E){const T=e(O).isCurrent(A);for(let M of r.currentClasses)O.classList.toggle(M,T);a.toggleAttr(O,"aria-current","page",T)}}function s(f){return f.feedbackLocation||i.matchableURL(f.location)}function u(f){const w=f.feedbackLocation,A=s(f.location);w&&w===A||(f.feedbackLocation=A,n(f.element,{layer:f}))}return up.on("up:location:changed",f=>{(function(){const w=up.layer.front;w.showsLiveHistory()&&u(w)})()}),up.on("up:fragment:compile",(f,w)=>{n(w)}),up.on("up:layer:location:changed",f=>{u(f.layer)}),up.on("up:framework:reset",function(){up.layer.root.feedbackLocation=null}),{config:r,showAroundRequest:function(f,w){if(!w.feedback)return;let A=h=>i.always(f,h),C=function(h){let E=h.origin;if(E)return O=E,a.ancestor(O,t)||O;var O}(f);C&&A(a.addTemporaryClass(C,"up-active"));for(let h of f.fragments)A(a.addTemporaryClass(h,"up-loading"))}}}()},2851:()=>{up.form=function(){const i=up.util,a=up.element,r=new up.Config(()=>({groupSelectors:["[up-form-group]","fieldset","label","form"],fieldSelectors:["select","input:not([type=submit]):not([type=image])","button[type]:not([type=submit])","textarea"],submitSelectors:["form:is([up-submit], [up-target], [up-layer], [up-transition])"],noSubmitSelectors:["[up-submit=false]","[target]",a.crossOriginSelector("action")],submitButtonSelectors:["input[type=submit]","input[type=image]","button[type=submit]","button:not([type])"],watchInputEvents:["input","change"],watchInputDelay:0,watchChangeEvents:["change"]}));function t(p=""){return r.fieldSelectors.map(S=>S+p).join()}function e(p){return p.matches(t())}function n(p){p=a.get(p);let S=a.subtree(p,t());if(p.matches("form[id]")){const D=t(a.attrSelector("form",p.getAttribute("id"))),$=up.fragment.all(D,{layer:p});S.push(...$),S=i.uniq(S)}return S}function s(p){return a.subtree(p,f())}function u(p){return p==null?void 0:p.matches(f())}function f(){return r.selector("submitButtonSelectors")}const w=up.mockable((p,S)=>up.render(A(p,S)));function A(p,S,D){p=k(p),S=i.options(S);let $=new up.OptionsParser(p,S,D);return $.include(O),$.string("failTarget",{default:up.fragment.tryToTarget(p)}),$.booleanOrString("disable"),S.guardEvent||(S.guardEvent=up.event.build("up:form:submit",{submitButton:S.submitButton,log:"Submitting form",params:S.params,form:p})),S.origin||(S.origin=up.viewport.focusedElementWithin(p)||S.submitButton||p),$.include(up.link.followOptions),S}function C(p){let S,D=document.activeElement,$=[...n(p),...s(p)];for(let q of $)q===D&&(S=z(D)),h(q);return S&&up.focus(S,{force:!0,preventScroll:!0}),function(){$.forEach(E)}}function h(p){p.upDisableCount||(p.upDisableCount||(p.upDisableCount=0),p.upOriginalDisabled=p.disabled),p.upDisableCount++,p.disabled=!0}function E(p){p.upDisableCount&&(p.disabled?(p.upDisableCount--,p.upDisableCount||(p.disabled=p.upOriginalDisabled)):p.upDisableCount=0)}function O(p,S,D){S=i.options(S),p=k(p);const $=new up.OptionsParser(p,S,D);$.string("contentType",{attr:"enctype"}),$.json("headers");const q=up.Params.fromForm(p),c=S.submitButton??(S.submitButton=s(p)[0]);return c&&(q.addField(c),S.method||(S.method=c.getAttribute("formmethod")),S.url||(S.url=c.getAttribute("formaction"))),q.addAll(S.params),S.params=q,$.string("url",{attr:"action",default:up.fragment.source(p)}),$.string("method",{attr:["up-method","data-method","method"],default:"GET",normalize:i.normalizeMethod}),S.method==="GET"&&(S.url=up.Params.stripURL(S.url)),S}function T(p,...S){p=up.element.get(p);const D=i.extractCallback(S)||function(c){let v=c.getAttribute("up-watch");if(v)return up.NonceableCallback.fromString(v).toFunction("value","name").bind(c)}(p)||up.fail("No callback given for up.watch()");let $=i.extractOptions(S);const q=new up.FieldWatcher(p,$,D);return q.start(),()=>q.stop()}function M(p,S={}){return T(p,{options:S,batch:!0},(D,$)=>w(p,$))}function N(){var p,S;return((S=(p=up.migrate).migratedFormGroupSelectors)==null?void 0:S.call(p))||r.groupSelectors}function z(p){return G(p).element}function G(p){return i.findResult(N(),function(S){let D=p.closest(S);if(D){let $=up.fragment.tryToTarget(D),q=up.fragment.tryToTarget(p),c=$||q&&D!==p&&`${S}:has(${q})`;if(c)return{target:c,element:D,origin:p}}})}function I(p){let S,D;if(p.matches("input[type=checkbox]"))p.checked?(S=p.value,D=":checked"):D=":unchecked";else if(p.matches("input[type=radio]")){const q=g(p),c=p.getAttribute("name"),v=q.querySelector(`input[type=radio]${a.attrSelector("name",c)}:checked`);v?(D=":checked",S=v.value):D=":unchecked"}else S=p.value;const $=[];return i.isPresent(S)?($.push(S),$.push(":present")):$.push(":blank"),i.isPresent(D)&&$.push(D),$}function K(p,S={}){const D=S.target||S.target||p.getAttribute("up-switch"),$=g(p);D||up.fail("No switch target given for %o",p);const q=I(p);for(let c of up.fragment.all($,D))m(c,q)}const m=up.mockable(function(p,S){let D;S||(S=I(function(q){const c=g(q).querySelectorAll("[up-switch]");return i.find(c,function(v){const L=v.getAttribute("up-switch");return q.matches(L)})||up.fail("Could not find [up-switch] field for %o",q)}(p)));let $=p.getAttribute("up-hide-for");if($)$=l($),D=i.intersect(S,$).length===0;else{let q=p.getAttribute("up-show-for");q=q?l(q):[":present",":checked"],D=i.intersect(S,q).length>0}a.toggle(p,D),p.classList.add("up-switched")});function l(p){return i.parseTokens(p,{json:!0})}function k(p,S={}){const D=up.fragment.get(p,S);return D.form||D.closest("form")}function g(p,S){return k(p,S)||up.layer.get(p).element}return up.on("submit",r.selectorFn("submitSelectors"),function(p,S){if(p.defaultPrevented)return;const D=i.presence(p.submitter,u);up.event.halt(p,{log:!0}),up.error.muteUncriticalRejection(w(S,{submitButton:D}))}),up.compiler(function(){let p=r.fieldSelectors.map(S=>`${S}[up-validate], [up-validate] ${S}`);return a.unionSelector(p,["[up-validate=false]"])},function(p){up.FormValidator.forElement(p).watchContainer(p)}),up.compiler("[up-switch]",p=>{K(p)}),up.on("change","[up-switch]",(p,S)=>{K(S)}),up.compiler("[up-show-for]:not(.up-switched), [up-hide-for]:not(.up-switched)",p=>{m(p)}),up.attribute("up-watch",p=>T(p)),up.attribute("up-autosubmit",p=>M(p)),{config:r,submit:w,submitOptions:A,destinationOptions:O,watchOptions:function(p,S,D={}){S=i.options(S);let $=new up.OptionsParser(p,S,{...D,closest:!0,attrPrefix:"up-watch-"});$.boolean("feedback"),$.booleanOrString("disable"),$.string("event"),$.number("delay");let q=up.form.config;return S.event==="input"?(S.event=i.evalOption(q.watchInputEvents,p),S.delay??(S.delay=q.watchInputDelay)):S.event==="change"&&(S.event=i.evalOption(q.watchChangeEvents,p)),S.origin||(S.origin=p),S},isSubmittable:function(p){return p=up.fragment.get(p),r.matches(p,"submitSelectors")},watch:T,validate:function(...p){let S=function(D,...$){const q=i.extractOptions($);return q.origin?q.target||(q.target=up.fragment.toTarget(D)):q.origin||(q.origin=up.fragment.get(D)),q}(...p);return up.FormValidator.forElement(S.origin).validate(S)},autosubmit:M,fieldSelector:t,fields:n,isField:e,submitButtons:s,focusedField:function(){return i.presence(document.activeElement,e)},switchTarget:m,disableWhile:function(p,S){let D=function({disable:$,origin:q}){if(!$)return i.noop;let c,v=()=>g(q||void up.fail("Cannot process { disable: '%s' } option without { %s }",$,"origin"));return $===!0?c=[v()]:i.isString($)&&(c=up.fragment.subtree(v(),$,{origin:q})),i.sequence(c.map(C))}(S);i.always(p,D)},disable:C,group:z,groupSolution:G,groupSelectors:N,get:k,getScope:g}}(),up.submit=up.form.submit,up.watch=up.form.watch,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate},2667:(i,a,r)=>{r(8711);const t=up.util,e=up.element;up.fragment=function(){function n(y){let b=e.tagName(y);if(b.startsWith("up-"))return b}const s=new up.Config(()=>({badTargetClasses:[/^up-/],targetDerivers:["[up-id]","[id]","html","head","body","main","[up-main]",n,"link[rel][type]","link[rel=preload][href]","link[rel=preconnect][href]","link[rel=prefetch][href]","link[rel]","meta[property]","*[name]","form[action]","a[href]","[class]","[up-flashes]","form"],verifyDerivedTarget:!0,navigateOptions:{cache:"auto",revalidate:"auto",feedback:!0,fallback:!0,focus:"auto",scroll:"auto",history:"auto",peel:!0},match:"region",runScripts:!0,autoHistoryTargets:[":main"],autoFocus:["hash","autofocus","main-if-main","keep","target-if-lost"],autoScroll:["hash","layer-if-main"],autoRevalidate:y=>y.expired,skipResponse:u}));function u({response:y,expiredResponse:b}){return!y.text||y.text===(b==null?void 0:b.text)}function f(y,b={}){return y=M(y,b),e.closestAttr(y,"up-source")}function w(y){return t.normalizeURL(y,{hash:!1})}function A(y){let b=e.closestAttr(y,"up-time");if(b&&b!=="false")return/^\d+$/.test(b)&&(b=1e3*Number(b)),new Date(b)}function C(y){let b=e.closestAttr(y,"up-etag");if(b&&b!=="false")return b}t.delegate(s,["mainTargets"],()=>up.layer.config.any);const h=up.mockable((...y)=>{let b=I(y);return new up.RenderJob(b).execute()}),E=up.mockable((...y)=>{const b=I(y);return h({...b,navigate:!0})});function O(y){return!y.closest(".up-destroying")}function T(y){return y.isConnected&&O(y)}function M(...y){const b=t.extractOptions(y),R=y.pop(),P=y[0];return t.isElementish(R)?e.get(R):P?N(P,R,b):new up.FragmentFinder({selector:R,origin:b.origin,layer:b.layer,match:b.match}).find()}function N(...y){return z(...y)[0]}function z(...y){const b=t.extractOptions(y);let R=y.pop();const P=y[0];return t.isElement(R)?[R]:t.isList(R)?R:new up.Selector(R,P,b).descendants(P)}function G(y,b,R={}){return new up.Selector(b,y,R).subtree(y)}function I(y){const b=t.parseArgIntoOptions(y,"target");return t.isElement(b.target)&&(b.origin||(b.origin=b.target)),b}const K=/^(onFail|on|fail)?(.+)$/;function m(y,b){return t.presence(y,t.isString)||l(y,b)||function(R){throw new up.CannotTarget(function(P){return`Cannot derive good target selector from a <${e.tagName(P)}> element without identifying attributes. Try setting an [id] or configure up.fragment.config.targetDerivers.`}(R))}(y)}function l(y,b){return t.findResult(s.targetDerivers,function(R){let P=function(j,V){if(t.isFunction(V))return V(j);if(j.matches(V))try{return function(B,_){let{includePath:J,excludeRaw:tt}=up.element.parseSelector(_);if(J.length!==1)throw new up.CannotParse(_);let{tagName:et,id:rt,classNames:Y,attributes:it}=J[0],X="";et==="*"?X+=e.tagName(B):et&&(X+=et);for(let Z of Y)X+=e.classSelector(Z);rt&&(X+=e.idSelector(rt));for(let Z in it){let nt=it[Z]||B.getAttribute(Z);if(Z==="id")X+=e.idSelector(nt);else if(Z==="class")for(let ut of k(B))X+=e.classSelector(ut);else X+=e.attrSelector(Z,nt)}return tt&&(X+=tt),X}(j,V)}catch(B){if(B instanceof up.CannotParse)return V;throw B}}(y,R);if(P&&function(j,V,B={}){return!T(V)||!s.verifyDerivedTarget||up.fragment.get(j,{layer:V,...B})===V}(P,y,b))return P})}function k(y){return t.filter(y.classList,b=>!t.some(s.badTargetClasses,R=>{return P=R,j=b,t.isRegExp(P)?P.test(j):P===j;var P,j}))}const g=/:main\b/,p=/:layer\b/,S=/:origin\b/;function D(y){return g.test(y)}function $(y,b={}){const{layer:R}=b;R==="new"||R instanceof up.Layer||up.fail("Must pass an up.Layer as { layer } option, but got %o",R),y=t.copy(t.wrapList(y));const P=[];for(;y.length;){let j=y.shift();if(j===!0&&(j=":main"),D(j)){let V=q(b),B=up.layer.mainTargets(V).map(_=>j.replace(g,_));y.unshift(...B)}else if(p.test(j)){if(R==="new"||R.opening)continue;let V=m(R.getFirstSwappableElement(),b);y.unshift(j.replace(p,V))}else t.isElementish(j)?P.push(m(j,b)):t.isString(j)&&P.push(v(j,b))}return t.uniq(P)}function q({layer:y,mode:b}){return y==="new"?b||up.fail('Must pass a { mode } option together with { layer: "new" }'):y.mode}function c(y,{origin:b}={}){return y.replace(S,function(R){if(b)return m(b);up.fail('Missing { origin } element to resolve "%s" reference (found in %s)',R,y)})}function v(...y){return(up.migrate.resolveOrigin||c)(...y)}function L(y){return t.parseTokens(y,{separator:"comma"})}function U(y,b){let R=up.on("up:fragment:aborted",{guard:P=>P.target.contains(y)},b);return up.destructor(y,R),R}return up.on("up:framework:boot",function(){const{documentElement:y}=document;if(y.setAttribute("up-source",w(location.href)),up.hello(y),!up.browser.canPushState())return up.warn("Cannot push history changes. Next fragment update will load in a new page.")}),{config:s,reload:function(...y){var P,j;const b=I(y);b.target||(b.target=":main");const R=M(b.target,b);return b.url||(b.url=f(R)),b.headers=t.merge(b.headers,function(V){let B={},_=A(V);_&&(B["If-Modified-Since"]=_.toUTCString());let J=C(V);return J&&(B["If-None-Match"]=J),B}(R)),(b.keepData||e.booleanAttr(R,"up-keep-data"))&&(b.data=up.data(R)),(j=(P=up.migrate).postprocessReloadOptions)==null||j.call(P,b),h(b)},destroy:function(...y){var R,P;const b=I(y);return(b.element=M(b.target,b))&&new up.Change.DestroyFragment(b).execute(),(P=(R=up.migrate).formerlyAsync)==null?void 0:P.call(R,"up.destroy()")},render:h,navigate:E,get:M,getDumb:N,all:z,subtree:G,contains:function(y,b){return t.isElement(b)?e.contains(y,b)&&up.layer.get(y).contains(b):G(y,b).length>0},closest:function(y,b,R){return new up.Selector(b,y,R).closest(y)},source:f,normalizeSource:w,visit:function(y,b){return E({...b,url:y})},markAsDestroying:function(y){y.classList.add("up-destroying"),y.setAttribute("aria-hidden","true")},emitInserted:function(y){return up.emit(y,"up:fragment:inserted",{log:["Inserted fragment %o",y]})},emitDestroyed:function(y,b){const R=b.log??["Destroyed fragment %o",y],P=b.parent||document;return up.emit(P,"up:fragment:destroyed",{fragment:y,parent:P,log:R})},emitKeep:function(y){let{oldElement:b,newElement:R,newData:P,renderOptions:j}=y;const V=["Keeping fragment %o",b],B=e.callbackAttr(b,"up-on-keep",{exposedKeys:["newFragment","newData"]});return up.emit(b,"up:fragment:keep",{newFragment:R,newData:P,renderOptions:j,log:V,callback:B})},successKey:function(y){let b=K.exec(y);if(b){let[R,P,j]=b;switch(P){case"onFail":return"on"+t.upperCaseFirst(j);case"fail":return t.lowerCaseFirst(j)}}},failKey:function(y){let b=K.exec(y);if(b){let[R,P,j]=b;switch(P){case"on":return"onFail"+t.upperCaseFirst(j);case void 0:return"fail"+t.upperCaseFirst(j)}}},expandTargets:$,resolveOrigin:v,toTarget:m,tryToTarget:l,isTargetable:function(y){return!!l(y)},matches:function(y,b,R={}){if(y=e.get(y),t.isElement(b)){let P=l(b);return P&&y.matches(P)}return new up.Selector(b,y,R).matches(y)},hasAutoHistory:function(y,b){let R=$(s.autoHistoryTargets,{layer:b}).join();for(let P of y)if(e.subtree(P,R).length)return!0;return up.puts("up.render()","Will not auto-update history because fragment doesn't contain a selector from up.fragment.config.autoHistoryTargets"),!1},time:A,etag:C,shouldRevalidate:function(y,b,R={}){return y.fromCache&&t.evalAutoOption(R.revalidate,s.autoRevalidate,b)},abort:function(...y){let b,R,P=I(y),{reason:j,newLayer:V}=P;if(P.target)R=z(P.target,P),b=B=>B.isPartOfSubtree(R),j||(j="Aborting requests within fragment");else{let B=up.layer.getAll(P);R=t.map(B,"element"),b=_=>t.contains(B,_.layer),j||(j="Aborting requests within "+B.join(", "))}up.network.abort(B=>B.abortable&&b(B),{...P,reason:j});for(let B of R)up.emit(B,"up:fragment:aborted",{reason:j,newLayer:V,log:!1})},onAborted:U,onFirstIntersect:function(y,b,{margin:R=0}={}){if(e.isIntersectingWindow(y,{margin:R}))return void b();let P=new IntersectionObserver(function(V){for(let B of V)if(B.isIntersecting)return j(),void b()},{rootMargin:`${R}px`}),j=()=>P.disconnect();P.observe(y),U(y,j)},splitTarget:L,parseTargetSteps:function(y,b={}){let R=b.defaultPlacement||"swap",P=b.defaultMaybe??!1,j=[],V=L(y);for(let B of V){if(B===":none")continue;let _=R,J=P;B=B.replace(/\b::?(before|after)\b/,(et,rt)=>(_=rt,"")),B=B.replace(/\b:maybe\b/,()=>(J=!0,""));const tt={...b,selector:B,placement:_,maybe:J,originalRenderOptions:b};j.push(tt)}return j},isAlive:T,isNotDestroying:O,targetForSteps:function(y){let b=y.filter(R=>{var P;return!R.maybe||((P=R.oldElement)==null?void 0:P.isConnected)});return t.map(b,"selector").join(", ")||":none"},compressNestedSteps:function(y){if(y.length<2)return y;let b=t.uniqBy(y,"oldElement");return b=t.reject(b,R=>function(P,j){return t.some(P,function(V){return V!==j&&(V.placement==="swap"||V.placement==="content")&&V.oldElement.contains(j.oldElement)})}(b,R)),b},containsMainPseudo:D}}(),up.reload=up.fragment.reload,up.destroy=up.fragment.destroy,up.render=up.fragment.render,up.navigate=up.fragment.navigate,up.visit=up.fragment.visit,t.delegate(up,["context"],()=>up.layer.current)},9634:()=>{up.framework=function(){let i="evaling";function a(){if(i!=="configuring")return void console.error("Unpoly has already booted");let t=r();t?console.error("Unpoly cannot boot: %s",t):(i="booting",up.emit("up:framework:boot",{log:!1}),i="booted",up.emit("up:framework:booted",{log:!1}))}function r(){for(let t of["URL","Proxy","Promise","DOMParser","FormData"])if(!window[t])return`Browser doesn't support the ${t} API`;if(document.compatMode==="BackCompat")return"Browser is in quirks mode (missing DOCTYPE?)"}return{onEvaled:function(){up.emit("up:framework:evaled",{log:!1}),function(){let t=document.currentScript;return!!(t!=null&&t.async)||(t==null?void 0:t.getAttribute("up-boot"))==="manual"||document.readyState==="complete"||void 0}()?console.debug("Call up.boot() after you have configured Unpoly"):document.addEventListener("DOMContentLoaded",a),i="configuring"},boot:a,startExtension:function(){if(i!=="configuring")throw new Error("Unpoly extensions must be loaded before booting");i="evaling"},stopExtension:function(){i="configuring"},reset:function(){up.emit("up:framework:reset",{log:!1})},get evaling(){return i==="evaling"},get booted(){return i==="booted"},get beforeBoot(){return i!=="booting"&&i!=="booted"},isSupported:function(){return!r()}}}(),up.boot=up.framework.boot},8944:()=>{up.history=function(){const i=up.util,a=up.element,r=new up.Config(()=>({enabled:!0,updateMetaTags:!0,restoreTargets:["body"],metaTagSelectors:["meta","link[rel=alternate]","link[rel=canonical]","link[rel=icon]","[up-meta]",'script[type="application/ld+json"]'],noMetaTagSelectors:["meta[http-equiv]","[up-meta=false]","meta[name=csp-nonce]"]}));let t,e;function n(){return i.normalizeURL(location.href)}function s(){const O=n();e!==O&&(t=e,e=O)}function u(O,T){return i.matchURLs(O,location.href,{hash:!0,...T})}function f(O,T={}){A("replaceState",O=i.normalizeURL(O))&&T.event!==!1&&w({location:O,reason:"replace",log:`Replaced state for ${O}`})}function w(O){var M,N;let T=up.event.build("up:location:changed",O);(N=(M=up.migrate)==null?void 0:M.renamedProperty)==null||N.call(M,T,"url","location"),up.emit(T)}function A(O,T){if(r.enabled){const M={up:{}};return window.history[O](M,"",T),s(),!0}}function C(O){s();let T=n();w({location:T,reason:"pop",log:`Navigated to history entry ${T}`}),up.viewport.saveFocus({location:t}),up.viewport.saveScroll({location:t}),function(M){if(!(M!=null&&M.up))return void up.puts("popstate","Ignoring a history state not owned by Unpoly");let N=n();up.error.muteUncriticalRejection(up.render({guardEvent:up.event.build("up:location:restore",{location:N,log:`Restoring location ${N}`}),url:N,target:r.restoreTargets,fail:!1,history:!0,location:N,peel:!0,layer:"root",cache:"auto",revalidate:"auto",saveScroll:!1,scroll:["restore","auto"],saveFocus:!1,focus:["restore","auto"]}))}(O.state)}function h(){window.addEventListener("popstate",C),up.protocol.initialRequestMethod()==="GET"&&f(n(),{event:!1})}function E(O=document.head){return O.querySelectorAll(r.selector("metaTagSelectors"))}return s(),up.on("up:framework:boot",function(){"jasmine"in window?h():setTimeout(h,100)}),up.macro("[up-back]",function(O){t&&(a.setMissingAttrs(O,{"up-href":t,"up-scroll":"restore"}),O.removeAttribute("up-back"),up.link.makeFollowable(O))}),up.on("up:framework:reset",function(){t=void 0,e=void 0,s()}),{config:r,push:function(O){!u(O=i.normalizeURL(O))&&A("pushState",O)&&w({location:O,reason:"push",log:`Advanced to location ${O}`})},replace:f,get location(){return n()},get previousLocation(){return t},isLocation:u,findMetaTags:E,updateMetaTags:function(O){let T=E();for(let M of T)M.remove();for(let M of O)document.head.append(M)},getLang:function(O=document){let{documentElement:T}=O;if(T.matches("html"))return O.documentElement.lang},updateLang:function(O){a.toggleAttr(a.root,"lang",O,!!O)}}}()},9443:(i,a,r)=>{r(4432);const t=up.util,e=up.element;up.layer=function(){const n=[up.Layer.Root,up.Layer.Modal,up.Layer.Popup,up.Layer.Drawer,up.Layer.Cover],s=new up.Config(function(){const h={mode:"modal",any:{mainTargets:["[up-main='']","main",":layer"]},root:{mainTargets:["[up-main~=root]"],history:!0},overlay:{mainTargets:["[up-main~=overlay]"],openAnimation:"fade-in",closeAnimation:"fade-out",dismissLabel:"×",dismissAriaLabel:"Dismiss dialog",dismissable:!0,history:"auto",trapFocus:!0},cover:{mainTargets:["[up-main~=cover]"]},drawer:{mainTargets:["[up-main~=drawer]"],backdrop:!0,position:"left",size:"medium",openAnimation(E){switch(E.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation(E){switch(E.position){case"left":return"move-to-left";case"right":return"move-to-right"}}},modal:{mainTargets:["[up-main~=modal]"],backdrop:!0,size:"medium"},popup:{mainTargets:["[up-main~=popup]"],position:"bottom",size:"medium",align:"left",dismissable:"outside key",trapFocus:!1},foreignOverlaySelectors:["dialog"]};for(let E of n)h[E.mode].Class=E;return h});let u=null,f=[];function w(h){return h==="root"?[s.root,s.any]:[s[h],s.overlay,s.any]}async function A(h){return h=t.options(h,{layer:"new",defaultToEmptyContent:!0,navigate:!0}),(await up.render(h)).layer}up.on("up:fragment:destroyed",function(){u.sync()}),up.on("up:framework:evaled",function(){u=new up.LayerStack}),up.on("up:framework:reset",function(){u.reset(),f=t.filter(f,"isDefault")});const C={config:s,mainTargets:function(h){return t.flatMap(w(h),"mainTargets")},open:A,build:function(h,E){const{mode:O}=h,{Class:T}=s[O],M=t.reverse(w(O));let N=up.migrate.handleLayerConfig;return N&&M.forEach(N),h.openAnimation??(h.openAnimation=t.pluckKey(h,"animation")),h=t.mergeDefined(...M,{mode:O,stack:u},h),E&&(h=E(h)),new T(h)},ask:function(h){return new Promise(function(E,O){A(h={...h,onAccepted:T=>E(T.value),onDismissed:T=>O(T.value)})})},normalizeOptions:function(h){(function(E){var O,T;if(!(E.layer instanceof up.Layer))if((T=(O=up.migrate).handleLayerOptions)==null||T.call(O,E),t.isGiven(E.layer)){let M=String(E.layer).match(/^(new|shatter|swap)( (\w+))?/);if(M){E.layer="new";const N=M[1],z=M[3];E.mode||(E.mode=z||s.mode),N==="swap"?up.layer.isOverlay()&&(E.baseLayer="parent"):N==="shatter"&&(E.baseLayer="root")}}else E.mode?E.layer="new":t.isElementish(E.target)?E.layer=u.get(E.target,{normalizeLayerOptions:!1}):E.origin?E.layer="origin":E.layer="current"})(h),h.context??(h.context={}),function(E){E.baseLayer instanceof up.Layer||(E.baseLayer=u.get("current",{...E,normalizeLayerOptions:!1}))}(h)},openCallbackAttr:function(h,E){return e.callbackAttr(h,E,{exposedKeys:["layer"]})},closeCallbackAttr:function(h,E){return e.callbackAttr(h,E,{exposedKeys:["layer","value","response"]})},anySelector:function(){return t.map(n,h=>h.selector()).join()},optionToString:function(h){return t.isString(h)?`layer "${h}"`:h.toString()},get stack(){return u.layers},isWithinForeignOverlay:function(h){let E=s.selector("foreignOverlaySelectors");return!(!E||!h.closest(E))}};return t.delegate(C,["get","getAll","root","overlays","current","front","sync","count","dismissOverlays"],()=>u),t.delegate(C,["accept","dismiss","isRoot","isOverlay","isFront","on","off","emit","parent","history","location","mode","context","element","contains","size","affix"],()=>u.current),C}()},3849:(i,a,r)=>{r(2065),up.link=function(){const t=up.util,e=up.element;let n=null;const s="[up-content], [up-fragment], [up-document]",u=`${s}, [up-target], [up-layer], [up-transition], [up-preload]`,f=new up.Config(()=>({followSelectors:["[up-follow]",`a:is(${u})`],noFollowSelectors:["[up-follow=false]","a[download]","a[target]",'a[href^="javascript:"]','a[href^="mailto:"]',`a[href^="#"]:not(${s})`,e.crossOriginSelector("href"),e.crossOriginSelector("up-href")],instantSelectors:["[up-instant]"],noInstantSelectors:["[up-instant=false]","[onclick]"],preloadSelectors:["[up-preload]"],noPreloadSelectors:["[up-preload=false]"],clickableSelectors:["[up-clickable]","[up-follow]","[up-emit]","[up-accept]","[up-dismiss]",`a:is(${u})`],noClickableSelectors:["[up-clickable=false]","a[href], button"],preloadDelay:90})),w=up.mockable(function(m,l,k){return up.render(C(m,l,k))});function A(m,l,k){l=t.options(l);const g=new up.OptionsParser(m,l,{...k,fail:!1});return l.url=function(p,S={}){const D=S.url||p.getAttribute("up-href")||p.getAttribute("href");if(D!=="#")return D}(m,l),l.method=E(m,l),g.json("headers"),g.json("params"),g.booleanOrString("cache"),g.booleanOrString("expireCache"),g.booleanOrString("evictCache"),g.booleanOrString("revalidate"),g.booleanOrString("abort"),g.boolean("abortable"),g.boolean("background"),g.string("contentType"),g.number("badResponseTime"),g.number("timeout"),l}function C(m,l,k){m=up.fragment.get(m),l=t.options(l);const g=new up.OptionsParser(m,l,{fail:!0,...k});return g.include(A),g.boolean("feedback"),l.origin||(l.origin=m),g.boolean("fail"),g.boolean("navigate",{default:!0}),g.string("confirm",{attr:["up-confirm","data-confirm"]}),g.string("target"),g.booleanOrString("fallback"),g.string("match"),g.string("content"),g.string("fragment"),g.string("document"),g.boolean("useKeep"),g.boolean("useHungry"),g.callback("onLoaded"),g.callback("onRendered",{mainKey:"result"}),g.callback("onFinished",{mainKey:"result"}),g.callback("onOffline",{mainKey:"error"}),g.callback("onError",{mainKey:"error"}),g.boolean("peel"),g.string("layer"),g.string("baseLayer"),g.json("context"),g.string("mode"),g.string("align"),g.string("position"),g.string("class"),g.string("size"),g.booleanOrString("dismissable"),g.parse(up.layer.openCallbackAttr,"onOpened"),g.parse(up.layer.closeCallbackAttr,"onAccepted"),g.parse(up.layer.closeCallbackAttr,"onDismissed"),g.string("acceptEvent"),g.string("dismissEvent"),g.string("acceptLocation"),g.string("dismissLocation"),g.booleanOrString("history"),g.booleanOrString("focus"),g.boolean("saveScroll"),g.boolean("saveFocus"),g.booleanOrString("scroll"),g.boolean("revealTop"),g.number("revealMax"),g.number("revealPadding"),g.number("revealSnap"),g.string("scrollBehavior"),g.booleanOrString("history"),g.booleanOrString("location"),g.booleanOrString("title"),g.boolean("metaTags"),g.booleanOrString("lang"),g.include(up.motion.motionOptions),l.guardEvent??(l.guardEvent=up.event.build("up:link:follow",{log:["Following link %o",m]})),l}function h(m,l){let k=function(p){if(!G(p))return"Will not preload an unsafe link"}(m=up.fragment.get(m));if(k)return Promise.reject(new up.Error(k));const g=up.event.build("up:link:preload",{log:["Preloading link %o",m]});return w(m,{abortable:!1,...l,guardEvent:g,preload:!0})}function E(m,l={}){return t.normalizeMethod(l.method||m.getAttribute("up-method")||m.getAttribute("data-method"))}function O(m){return m=up.fragment.get(m),f.matches(m,"followSelectors")}function T(m){O(m)||m.setAttribute("up-follow","")}function M(m,l){if(m.defaultPrevented)return!1;const k=`a, [up-follow], ${up.form.fieldSelector()}`,g=m.target.closest(k);return!g||g===l}function N(m){const l=m.closest(f.selector("instantSelectors"));return l&&(k=l,!(f.matches(k,"noInstantSelectors")||f.matches(k,"noFollowSelectors")));var k}function z(m){let l=["clientX","clientY","button",...up.event.keyModifiers];const k=up.event.fork(m,"up:click",l);up.emit(m.target,k,{log:!1})}function G(m){const l=E(m);return up.network.isSafeMethod(l)}function I(m,l,k){switch(m){case"insert":k();break;case"reveal":{let g=e.numberAttr(l,"up-intersect-margin");up.fragment.onFirstIntersect(l,k,{margin:g});break}case"hover":new up.LinkFollowIntent(l,k)}}function K(m,l){let k={navigate:!1,guardEvent:up.event.build("up:deferred:load",{log:["Loading deferred %o",m]}),...l};return w(m,k,{defaults:{target:":origin",cache:"auto",revalidate:"auto",feedback:!0}})}return up.macro(f.selectorFn("clickableSelectors"),function(m){let l=m.matches("a, [up-follow]")?"link":"button";e.setMissingAttrs(m,{tabindex:"0",role:l,"up-clickable":""}),m.addEventListener("keydown",function(k){if(k.key==="Enter"||m.role==="button"&&k.key==="Space")return z(k)})}),up.attribute("up-defer",{defaultValue:"insert"},function(m,l){I(l,m,()=>up.error.muteUncriticalRejection(K(m)))}),up.on("up:click",f.selectorFn("followSelectors"),function(m,l){M(m,l)&&(up.event.halt(m,{log:!0}),up.focus(l,{preventScroll:!0}),up.error.muteUncriticalRejection(w(l)))}),up.attribute("up-expand",{defaultValue:"a, [up-href]",macro:!0},function(m,l){let k=e.get(m,l);k&&(e.setMissingAttrs(m,{"up-href":e.attr(k,"href"),...e.upAttrs(k)}),m.classList.add(...e.upClasses(k)),T(m))}),up.compiler(f.selectorFn("preloadSelectors"),function(m){if(!function(l){return!up.browser.canPushState()||!O(l)||!function(k){const g=A(k);if(g.url)return g.cache==null&&(g.cache="auto"),g.basic=!0,new up.Request(g).willCache()}(l)}(m)){let l=()=>up.error.muteUncriticalRejection(h(m));I(e.booleanOrStringAttr(m,"up-preload",null)??"hover",m,l)}}),up.on("up:framework:reset",function(){n=null}),{follow:w,followOptions:C,requestOptions:A,preload:h,makeFollowable:T,isSafe:G,isFollowable:O,shouldFollowEvent:M,convertClicks:function(m){m.on("click",function(l,k){if(up.event.isUnmodified(l))return N(k)&&n?up.event.halt(l):(up.event.inputDevice==="key"||up.event.isSyntheticClick(l)||m.wasHitByMouseEvent(l)&&(!n||n===l.target))&&z(l),n=null}),m.on("mousedown",function(l,k){up.event.isUnmodified(l)&&(n=l.target,N(k)&&z(l))})},config:f,loadDeferred:K}}(),up.follow=up.link.follow,up.deferred={load:up.link.loadDeferred}},4453:()=>{up.log=function(){const i=up.util,a=new up.LogConfig;function r(e,n,s,...u){t(e,n,"",s,...u)}function t(e,n,s,u,...f){u&&(a.format?console[e](`%c${n}%c ${u}`,"color: #666666; padding: 1px 3px; border: 1px solid #bbbbbb; border-radius: 2px; font-size: 90%; display: inline-block;"+s,"",...f):console[e](`[${n}] ${i.sprintf(u,...f)}`))}return up.on("up:framework:boot",function(){if(!a.banner)return;const e=` __ _____  ___  ___  / /_ __
/ // / _ \\/ _ \\/ _ \\/ / // /  ${up.version}
\\___/_//_/ .__/\\___/_/\\_. / 
        / /            / /

`;let n="";up.migrate.loaded||(n+=`Load unpoly-migrate.js to polyfill deprecated APIs.

`),a.enabled?n+="Call `up.log.disable()` to disable logging for this session.":n+="Call `up.log.enable()` to enable logging for this session.";const s="color: #777777";a.format?console.log("%c"+e+"%c"+n,"font-family: monospace;"+s,s):console.log(e+n)}),{puts:function(...e){a.enabled&&r("log",...e)},putsEvent:function(e){if(a.enabled){let n="#5566cc";t("log",(e=e.originalEvent||e).type,`color: white; border-color: ${n}; background-color: ${n}`,"Interaction on %o",e.target)}},error:(...e)=>r("error",...e),warn:(...e)=>r("warn",...e),config:a,enable:function(){a.enabled=!0},disable:function(){a.enabled=!1}}}(),up.puts=up.log.puts,up.warn=up.log.warn},6535:()=>{up.migrate={config:{}}},8374:()=>{up.mockable=function(i){if(window.jasmine){let a=i.name,r={[a]:i},t=function(){return r[a].apply(this,arguments)};return t.mock=()=>spyOn(r,a),t}return i}},4034:()=>{up.motion=function(){const i=up.util,a=up.element;let r={},t={};const e=new up.MotionController("motion"),n=new up.Config(()=>({duration:175,easing:"ease",enabled:!matchMedia("(prefers-reduced-motion: reduce)").matches}));function s(m){return i.pickBy(m,"isDefault")}function u(){return n.enabled}function f(m,l,k){return A(k),u()&&!N(l)&&k.duration>0&&!a.isSingleton(m)}function w(m,l,k){return up.migrate.loaded&&(l=up.migrate.fixStyleProps(l)),k={...k,finishEvent:e.finishEvent},new up.CSSTransition(m,l,k).start()}function A(m){m.easing??(m.easing=n.easing),m.duration??(m.duration=n.duration)}function C(m){if(!N(m)){if(i.isFunction(m))return m;if(i.isArray(m))return h(...m);if(i.isString(m)){let l;if(m.indexOf("/")>=0)return h(...m.split("/"));if(l=t[m])return C(l)}else up.fail("Unknown transition %o",m)}}function h(m,l){if(!N(m)&&!N(l)){const k=E(m)||i.asyncNoop,g=E(l)||i.asyncNoop;return(p,S,D)=>Promise.all([k(p,D),g(S,D)])}}function E(m){var l;if(!N(m))return i.isFunction(m)?m:i.isString(m)?r[l=m]||up.fail("Unknown animation %o",l):i.isOptions(m)?(k,g)=>w(k,m,g):void up.fail("Unknown animation %o",m)}const O=up.mockable(function(m,l){m.replaceWith(l)});function T(m,l){const k=C(l);k.isDefault=up.framework.evaling,t[m]=k}function M(m,l){const k=E(l);k.isDefault=up.framework.evaling,r[m]=k}function N(m){return!m||m==="none"}function z(m,l,k){M(m,function(g,p){return g.style.opacity=0,a.setStyle(g,{opacity:l}),w(g,{opacity:k},p)})}function G(m,l){return{transform:`translate(${m}px, ${l}px)`}}function I(m){return a.setStyle(m,{transform:""}),m.getBoundingClientRect()}function K(m,l){const k=`move-from-${m}`;M(`move-to-${m}`,function(g,p){const S=I(g);return w(g,l(S),p)}),M(k,function(g,p){const S=I(g),D=l(S);return a.setStyle(g,D),w(g,{transform:""},p)})}return up.on("up:framework:boot",function(){u()||up.puts("up.motion","Animations are disabled")}),z("fade-in",0,1),z("fade-out",1,0),K("top",function(m){return G(0,-(m.top+m.height))}),K("bottom",function(m){return G(0,up.viewport.rootHeight()-m.top)}),K("left",function(m){return G(-(m.left+m.width),0)}),K("right",function(m){return G(up.viewport.rootWidth()-m.left,0)}),T("cross-fade",["fade-out","fade-in"]),T("move-left",["move-to-left","move-from-right"]),T("move-right",["move-to-right","move-from-left"]),T("move-up",["move-to-top","move-from-bottom"]),T("move-down",["move-to-bottom","move-from-top"]),up.on("up:framework:reset",function(){e.reset(),r=s(r),t=s(t)}),{morph:function(m,l,k,g){A(g=i.options(g)),m=up.fragment.get(m),l=up.fragment.get(l);let p=C(k);const S=f(m,p,g);p=up.error.guardFn(p);const D=i.pluckKey(g,"beforeStart")||i.noop,$=i.pluckKey(g,"afterInsert")||i.noop,q=i.pluckKey(g,"beforeDetach")||i.noop,c=i.pluckKey(g,"afterDetach")||i.noop,v=i.pluckKey(g,"scrollNew")||i.noop;if(D(),S){if(e.isActive(m)&&g.trackMotion===!1)return p(m,l,g);up.puts("up.morph()","Morphing %o to %o with transition %O over %d ms",m,l,k,g.duration);const L=up.viewport.get(m),U=L.scrollTop,y=up.viewport.absolutize(m,{afterMeasure(){a.insertBefore(m,l),$()}}),b=async function(){v();const R=L.scrollTop;y.moveBounds(0,R-U),await p(m,l,g),q(),y.bounds.remove(),c()};return e.startFunction([m,l],b,g)}return q(),O(m,l),$(),c(),v(),Promise.resolve()},animate:function(m,l,k){m=up.fragment.get(m),k=i.options(k);let g=E(l);const p=f(m,l,k);if(g=up.error.guardFn(g),p){const S=()=>g(m,k);return e.startFunction(m,S,k)}return function(S,D){return i.isOptions(D)&&a.setStyle(S,D),Promise.resolve()}(m,l)},finish:function(m){return e.finish(m)},finishCount:()=>e.finishCount,transition:T,animation:M,config:n,isEnabled:u,isNone:N,willAnimate:f,swapElementsDirectly:O,motionOptions:function(m,l,k){l=i.options(l);let g=new up.OptionsParser(m,l,k);return g.booleanOrString("animation"),g.booleanOrString("transition"),g.string("easing"),g.number("duration"),l}}}(),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate},1647:(i,a,r)=>{r(35);const t=up.util;up.network=function(){const e=new up.Config(()=>({concurrency:6,wrapMethod:!0,cacheSize:70,cacheExpireAge:15e3,cacheEvictAge:54e5,badResponseTime:400,fail:A=>(A.status<200||A.status>299)&&A.status!==304,autoCache:A=>A.isSafe(),expireCache:(A,C)=>!A.isSafe(),evictCache:!1,progressBar:!0,timeout:9e4})),n=new up.Request.Queue,s=new up.Request.Cache;let u=null;function f(A){(function(C){let h;if(C.willCache()&&(h=s.get(C)))return up.puts("up.request()","Re-using previous request to %s",C.description),C.background||n.promoteToForeground(h),h.mergeIfUnsent(C),s.track(h,C,{onIncompatible:f}),!0})(A)||function(C){(function(h){h.willCache()&&(s.put(h),h.onLoading=()=>s.reindex(h)),t.always(h,function(E){let O=E.expireCache??h.expireCache??t.evalOption(e.expireCache,h,E);O&&s.expire(O,{except:h});let T=E.evictCache??h.evictCache??t.evalOption(e.evictCache,h,E);T&&s.evict(T,{except:h});let M=s.get(h),N=E instanceof up.Response,z=!N,G=N&&E.ok,I=N&&!E.ok,K=N&&E.none;I?s.evict(h.url):z||K?s.evict(h):G&&M&&s.put(h)})})(C),n.asap(C)}(A)}function w(...A){var C,h;(h=(C=up.migrate).preprocessAbortArgs)==null||h.call(C,A),n.abort(...A)}return up.on("up:network:late",function(){t.evalOption(e.progressBar)&&(u=new up.ProgressBar)}),up.on("up:network:recover",function(){u==null||u.conclude()}),up.on("up:framework:reset",function(){w(),n.reset(),s.reset(),u==null||u.destroy(),u=null}),{request:function(...A){const C=function(E){var T,M;const O=t.extractOptions(E);return O.url||(O.url=E[0]),(M=(T=up.migrate).handleRequestOptions)==null||M.call(T,O),O}(A),h=new up.Request(C);return f(h),h},cache:s,isBusy:function(){return n.isBusy()},isSafeMethod:function(A){return t.contains(["GET","OPTIONS","HEAD"],t.normalizeMethod(A))},config:e,abort:w,registerAliasForRedirect:function(A,C){if(A.cache&&C.url&&A.url!==C.url){const h=t.variant(A,{method:C.method,url:C.url,cacheRoute:null});s.alias(A,h)}},queue:n,loadPage:function(A){new up.Request(A).loadPage()}}}(),up.request=up.network.request,up.cache=up.network.cache},3535:()=>{up.protocol=function(){const i=up.util,a=up.element,r=function(u){return"X-Up"+u.replace(/(^.|[A-Z])/g,f=>"-"+f.toUpperCase())},t=function(u,f,w=i.identity){let A=u.getResponseHeader(r(f));if(A)return w(A)};function e(u){return u!=="false"&&u}const n=i.memoize(function(){return i.normalizeMethod(up.browser.popCookie("_up_method"))}),s=new up.Config(()=>({methodParam:"_method",csrfParam:()=>a.metaContent("csrf-param"),csrfToken:()=>a.metaContent("csrf-token"),cspNonce:()=>a.metaContent("csp-nonce"),csrfHeader:"X-CSRF-Token",maxHeaderSize:2048}));return{config:s,locationFromXHR:function(u){return t(u,"location")||u.responseURL},titleFromXHR:function(u){var f,w;return((w=(f=up.migrate).titleFromXHR)==null?void 0:w.call(f,u))??t(u,"title",JSON.parse)},targetFromXHR:function(u){return t(u,"target")},methodFromXHR:function(u){return t(u,"method",i.normalizeMethod)},acceptLayerFromXHR:function(u){return t(u,"acceptLayer",JSON.parse)},contextFromXHR:function(u){return t(u,"context",JSON.parse)},dismissLayerFromXHR:function(u){return t(u,"dismissLayer",JSON.parse)},eventPlansFromXHR:function(u){return t(u,"events",JSON.parse)},expireCacheFromXHR:function(u){var f,w;return t(u,"expireCache")||((w=(f=up.migrate).clearCacheFromXHR)==null?void 0:w.call(f,u))},evictCacheFromXHR:function(u){return t(u,"evictCache",e)},csrfHeader:function(){return i.evalOption(s.csrfHeader)},csrfParam:function(){return i.evalOption(s.csrfParam)},csrfToken:function(){return i.evalOption(s.csrfToken)},cspNonce:function(){return i.evalOption(s.cspNonce)},initialRequestMethod:n,headerize:r,wrapMethod:function(u,f){return f.add(s.methodParam,u),"POST"},cspNoncesFromHeader:function(u){let f=[];if(u){let w=u.split(/\s*;\s*/);for(let A of w)if(A.indexOf("script-src")===0){let C,h=/'nonce-([^']+)'/g;for(;C=h.exec(A);)f.push(C[1])}}return f}}}()},9615:()=>{up.radio=function(){const i=up.element,a=new up.Config(()=>({hungrySelectors:["[up-hungry]"],noHungrySelectors:["[up-hungry=false]"],pollInterval:3e4}));return up.attribute("up-poll",function(r){up.FragmentPolling.forFragment(r).onPollAttributeObserved()}),up.macro("[up-flashes]",function(r){i.setMissingAttrs(r,{"up-hungry":"","up-if-layer":"subtree","up-keep":"",role:"alert"}),r.addEventListener("up:fragment:keep",function(t){i.isEmpty(t.newFragment)||t.preventDefault()})}),{config:a,hungrySteps:function(r){let{useHungry:t,origin:e,layer:n}=r,s={current:[],other:[]};if(!t)return s;let u=a.selector("hungrySelectors");const f=[n,...n.ancestors,...n.descendants];for(let w of f){let A=up.fragment.all(w.element,u,{layer:w});for(let C of A){let h=up.fragment.tryToTarget(C,{origin:e});if(!h){up.warn("[up-hungry]","Ignoring untargetable fragment %o",C);continue}let E=i.attr(C,"up-if-layer"),O=E?up.layer.getAll(E,{baseLayer:w}):[w],T={selector:h,oldElement:C,layer:w,origin:e,...up.motion.motionOptions(C),placement:"swap",useKeep:!0,maybe:!0,selectEvent:up.event.build("up:fragment:hungry",{log:!1}),selectCallback:i.callbackAttr(C,"up-on-hungry",{exposedKeys:["newFragment","renderOptions"]}),originalRenderOptions:r};O.includes(n)&&(n===w?s.current:s.other).push(T)}}return s.other=up.fragment.compressNestedSteps(s.other),s},startPolling:function(r,t={}){up.FragmentPolling.forFragment(r).forceStart(t)},stopPolling:function(r){up.FragmentPolling.forFragment(r).forceStop()},pollOptions:function(r,t={}){const e=new up.OptionsParser(r,t,{defaults:{background:!0}});return e.number("interval",{default:a.pollInterval}),e.string("ifLayer",{default:"front"}),e.include(up.link.requestOptions),t}}}()},6774:()=>{(function(){const i=up.element;for(let a of["method","confirm"]){const r=`up-${a}`,t=`data-${a}`;up.macro(`a[${t}]`,function(e){var n;(window.Rails||(n=window.jQuery)!=null&&n.rails)&&up.link.isFollowable(e)&&(i.setMissingAttr(e,r,e.getAttribute(t)),e.removeAttribute(t))})}})()},1897:()=>{up.script=function(){const i=up.util,a=up.element,r=new up.Config(()=>({assetSelectors:["link[rel=stylesheet]","script[src]","[up-asset]"],noAssetSelectors:["[up-asset=false]"],nonceableAttributes:["up-watch","up-on-accepted","up-on-dismissed","up-on-loaded","up-on-rendered","up-on-finished","up-on-error","up-on-offline"],scriptSelectors:["script"],noScriptSelectors:['script[type="application/ld+json"]']})),t={"[up-back]":-100,"[up-clickable]":-200,"[up-drawer]":-200,"[up-modal]":-200,"[up-cover]":-200,"[up-popup]":-200,"[up-tooltip]":-200,"[up-dash]":-200,"[up-flashes]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400};let e=[],n=[];function s(h,E={}){let O=function(T,M){let[N,z,G]=u(T);return z=i.options(z,{selector:N,isDefault:up.framework.evaling,priority:0,batch:!1}),Object.assign(G,z,M)}(h,E);O.macro?(up.framework.evaling&&(O.priority||(O.priority=function(T){T=i.evalOption(T);for(let M in t)if(T.indexOf(M)>=0)return t[M];up.fail("Unregistered priority for system macro %o",T)}(O.selector))),f(n,O)):f(e,O)}const u=function(h){const E=i.extractOptions(h),O=h.shift(),T=h.pop();return[O,{...E,...i.extractOptions(h)},T]};function f(h,E){let O,T=0;for(;(O=h[T])&&O.priority>=E.priority;)T+=1;if(h.splice(T,0,E),up.framework.booted)if(E.priority===0)for(let M of up.layer.stack)w(M.element,{layer:M,compilers:[E]});else up.puts("up.compiler()","Compiler %s was registered after booting Unpoly. Compiler will run for future fragments only.",E.selector);return E}function w(h,E){up.emit(h,"up:fragment:compile",{log:!1});let O=E.compilers||n.concat(e);new up.CompilerPass(h,O,E).run()}function A(h=document.head){return h.querySelectorAll(r.selector("assetSelectors"))}function C(h){h.type="up-disabled-script"}return up.on("up:framework:reset",function(){e=i.filter(e,"isDefault"),n=i.filter(n,"isDefault")}),{config:r,compiler:function(...h){s(h)},macro:function(...h){s(h,{macro:!0})},attrCompiler:function(...h){let[E,O,T]=u(h);s([`[${E}]`,O,M=>{let N=a.booleanOrStringAttr(M,E,O.defaultValue);if(N)return T(M,N)}])},destructor:function(h,E){let O=h.upDestructors;O||(O=[],h.upDestructors=O,h.classList.add("up-can-clean")),i.isArray(E)?O.push(...E):O.push(E)},hello:function(h,E={}){return h=up.fragment.get(h,E),up.puts("up.hello()","Compiling fragment %o",h),w(h,E),up.fragment.emitInserted(h),h},clean:function(h,E={}){new up.DestructorPass(h,E).run()},data:function(h){return h=up.fragment.get(h),h.upData||(h.upData=function(E){if(!E.getAttribute)return{};let O,T=E.getAttribute("up-data");return T&&(O=JSON.parse(T),!i.isOptions(O))?O:{...E.dataset,...O,...E.upCompileData}}(h))},findAssets:A,assertAssetsOK:function(h,E){let O=A();i.map(O,"outerHTML").join()!==i.map(h,"outerHTML").join()&&up.event.assertEmitted("up:assets:changed",{oldAssets:O,newAssets:h,renderOptions:E})},disableSubtree:function(h){let E=r.selector("scriptSelectors");i.each(a.subtree(h,E),C)}}}(),up.compiler=up.script.compiler,up.destructor=up.script.destructor,up.macro=up.script.macro,up.data=up.script.data,up.hello=up.script.hello,up.attribute=up.script.attrCompiler},7924:()=>{up.util=function(){function i(){}function a(o,d){d=c(d,{host:"cross-domain"});const x=s(o);let H="";d.host==="cross-domain"&&(d.host=n(x)),d.host&&(H+=x.protocol+"//"+x.host);let{pathname:W}=x;return d.trailingSlash===!1&&W!=="/"&&(W=W.replace(/\/$/,"")),H+=W,d.search!==!1&&(H+=x.search),d.hash!==!1&&(H+=x.hash),H}function r(o,d){if(o)return a(o,{hash:!1,trailingSlash:!1,...d})}const t=location.protocol,e=location.hostname;function n(o){if(z(o)&&o.indexOf("//")===-1)return!1;const d=s(o);return e!==d.hostname||t!==d.protocol}function s(o){if(o.pathname)return o;let d=document.createElement("a");return d.href=o,d}function u(o){return z(o)?d=>d[o]:o}function f(o,d){if(o.length===0)return[];d=u(d);let x=[],H=0;for(let W of o)x.push(d(W,H++));return x}function w(o,d){let x=0;for(let H of o)d(H,x++)}function A(o){return o===null}function C(o){return o===void 0}const h=st(C);function E(o){return C(o)||A(o)}const O=st(E);function T(o){return!!E(o)||(K(o)&&o[T.key]?o[T.key]():z(o)||p(o)?o.length===0:!!I(o)&&Object.keys(o).length===0)}T.key="up.util.isBlank";const M=st(T);function N(o){return typeof o=="function"}function z(o){return typeof o=="string"||o instanceof String}function G(o){return typeof o=="number"||o instanceof Number}function I(o){return typeof o=="object"&&!A(o)&&(C(o.constructor)||o.constructor===Object)}function K(o){const d=typeof o;return d==="object"&&!A(o)||d==="function"}function m(o){return o instanceof Element}function l(o){return o instanceof RegExp}function k(o){return up.browser.canJQuery()&&o instanceof jQuery}const{isArray:g}=Array;function p(o){return g(o)||function(d){return d instanceof NodeList}(o)||function(d){return Object.prototype.toString.call(d)==="[object Arguments]"}(o)||k(o)||function(d){return d instanceof HTMLCollection}(o)}function S(o){return p(o)?o:E(o)?[]:[o]}function D(o){return K(o)&&o[D.key]?o=o[D.key]():p(o)?o=$(o):I(o)&&(o=Object.assign({},o)),o}function $(o){return Array.prototype.slice.call(o)}function q(...o){return Object.assign({},...o)}function c(o,d){return d?q(d,o):o?D(o):{}}function v(o,d){d=u(d);let x=0;for(let H of o){const W=d(H,x++);if(W)return W}}function L(o,d){d=u(d);let x=!0,H=0;for(let W of o)if(!d(W,H++)){x=!1;break}return x}function U(o){return y(o,O)}function y(o,d){d=u(d);const x=[];return w(o,function(H,W){if(d(H,W))return x.push(H)}),x}function b(o){return o[o.length-1]}function R(o,d){return(o.indexOf||Array.prototype.indexOf).call(o,d)>=0}function P(o,d){const x={};for(let H of d)H in o&&(x[H]=o[H]);return x}function j(o,d){d=u(d);const x={};for(let H in o)d(o[H],H,o)&&(x[H]=o[H]);return x}function V(o,...d){return N(o)?o(...d):o}D.key="up.util.copy",Date.prototype[D.key]=function(){return new Date(+this)};const B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};function _(o,d){const x=o[d];return delete o[d],x}function J(o,d){if(d(b(o)))return o.pop()}function tt(o){return J(o,I)||{}}function et(o){return o}function rt(o){const d=[];for(let x of o)p(x)?d.push(...x):d.push(x);return d}function Y(o,d){if(o!=null&&o.valueOf&&(o=o.valueOf()),d!=null&&d.valueOf&&(d=d.valueOf()),typeof o!=typeof d)return!1;if(p(o)&&p(d))return it(o,d);if(K(o)&&o[Y.key])return o[Y.key](d);if(I(o)&&I(d)){const x=Object.keys(o);return!!it(x,Object.keys(d))&&L(x,H=>Y(o[H],d[H]))}return o===d}function it(o,d){return o.length===d.length&&L(o,(x,H)=>Y(x,d[H]))}Y.key="up.util.isEqual";const X={"space/or":/\s+(?:or\s+)?/,or:/\s+or\s+/,comma:/\s*,\s*/};let Z=0;function nt(o,d="%o"){let x;if(d==="%c")return"";if(d==="%s"&&O(o)&&(o=o.toString()),z(o))x=o.trim().replace(/[\n\r\t ]+/g," "),d==="%o"&&(x=JSON.stringify(x));else if(C(o))x="undefined";else if(G(o)||N(o))x=o.toString();else if(g(o))x=`[${f(o,nt).join(", ")}]`;else if(k(o))x=`$(${f(o,nt).join(", ")})`;else if(m(o)){x=`<${o.tagName.toLowerCase()}`;for(let H of["id","up-id","name","class"]){let W=o.getAttribute(H);W&&(x+=` ${H}="${W}"`)}x+=">"}else if(l(o)||o instanceof Error)x=o.toString();else try{x=JSON.stringify(o)}catch(H){if(H.name!=="TypeError")throw H;x="(circular structure)"}return x.length>200&&(x=`${x.substr(0,200)}…${b(x)}`),x}const ut=/%[oOdisfc]/g;function st(o){return function(...d){return!o(...d)}}function ht(o){if(o.error)throw o.error;return o.value}function ft(o,d,x){try{return{value:o.apply(d,x)}}catch(H){return{error:H}}}return{parseURL:s,normalizeURL:a,matchableURL:r,matchableURLPatternAtom:function(o){return o.endsWith("/")?[o,o.slice(0,-1)]:o.includes("/?")?[o,o.replace("/?","?")]:o.endsWith("/*")?[o,o.slice(0,-2),o.slice(0,-2)+"?*"]:o},matchURLs:function(o,d,x){return r(o,x)===r(d,x)},normalizeMethod:function(o){return o?o.toUpperCase():"GET"},methodAllowsPayload:function(o){return o!=="GET"&&o!=="HEAD"},copy:D,merge:q,mergeDefined:function(...o){const d={};for(let x of o)if(x)for(let H in x){const W=x[H];h(W)&&(d[H]=W)}return d},options:c,parseArgIntoOptions:function(o,d){let x=tt(o);return h(o[0])&&(x=D(x),x[d]=o[0]),x},each:w,map:f,flatMap:function(o,d){return rt(f(o,d))},mapObject:function(o,d){return f(o,d).reduce(function(x,H){return x[H[0]]=H[1],x},{})},findResult:v,some:function(o,d){return!!v(o,d)},every:L,find:function(o,d){let x;d=u(d);for(let H of o)if(d(H)){x=H;break}return x},filter:y,reject:function(o,d){return y(o,d=st(u(d)))},intersect:function(o,d){return y(o,x=>R(d,x))},compact:U,compactObject:function(o){return j(o,O)},uniq:function(o){return o.length<2?o:Array.from(new Set(o))},uniqBy:function(o,d){if(o.length<2)return o;d=u(d);const x=new Set;return y(o,function(H,W){const Q=d(H,W);return!x.has(Q)&&(x.add(Q),!0)})},last:b,isNull:A,isDefined:h,isUndefined:C,isGiven:O,isMissing:E,isPresent:M,isBlank:T,presence:function(o,d=M){if(d(o))return o},isObject:K,isFunction:N,isString:z,isBoolean:function(o){return typeof o=="boolean"||o instanceof Boolean},isNumber:G,isElement:m,isJQuery:k,isElementish:function(o){var d;return!(!o||!o.addEventListener&&!((d=o[0])!=null&&d.addEventListener))},isPromise:function(o){return K(o)&&N(o.then)},isOptions:I,isArray:g,isFormData:function(o){return o instanceof FormData},isList:p,isRegExp:l,timer:function(o,d){return setTimeout(d,o)},contains:R,containsAll:function(o,d){return L(d,x=>R(o,x))},objectContains:function(o,d){return Y(d,P(o,Object.keys(d)))},toArray:function(o){return g(o)?o:$(o)},pick:P,pickBy:j,omit:function(o,d){return j(o,(x,H)=>!R(d,H))},unresolvablePromise:function(){return new Promise(i)},remove:function(o,d){const x=o.indexOf(d);if(x>=0)return o.splice(x,1),d},memoize:function(o){let d,x;return function(...H){return x?d:(x=!0,d=o.apply(this,H))}},pluckKey:_,renameKey:function(o,d,x){return o[x]=_(o,d)},extractOptions:tt,extractCallback:function(o){return J(o,N)},noop:i,asyncNoop:function(){return Promise.resolve()},identity:et,escapeHTML:function(o){return o.replace(/[&<>"']/g,d=>B[d])},escapeRegExp:function(o){return o.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},sequence:function(o){return o=U(o),(...d)=>f(o,x=>x(...d))},evalOption:V,evalAutoOption:function(o,d,...x){return(o=V(o,...x))==="auto"&&(o=V(d,...x)),o},flatten:rt,newDeferred:function(){let o,d;const x=new Promise(function(H,W){o=H,d=W});return x.resolve=o,x.reject=d,x},always:function(o,d=et){return o.then(d,d)},isBasicObjectProperty:function(o){return Object.prototype.hasOwnProperty(o)},isCrossOrigin:n,task:function(o){return setTimeout(o)},isEqual:Y,parseTokens:function(o,d={}){if(z(o)){if(o=o.trim(),d.json&&/^\[.*]$/.test(o))return JSON.parse(o);{let x=d.separator||"space/or",H=X[x];return o.split(H)}}return S(o)},wrapList:S,wrapValue:function(o,...d){return d[0]instanceof o?d[0]:new o(...d)},uid:function(){return Z++},upperCaseFirst:function(o){return o[0].toUpperCase()+o.slice(1)},lowerCaseFirst:function(o){return o[0].toLowerCase()+o.slice(1)},delegate:function(o,d,x){for(let H of d)Object.defineProperty(o,H,{get(){const W=x.call(this);let Q=W[H];return N(Q)&&(Q=Q.bind(W)),Q},set(W){x.call(this)[H]=W}})},reverse:function(o){return D(o).reverse()},camelToKebabCase:function(o){return o.replace(/[A-Z]/g,d=>"-"+d.toLowerCase())},replaceValue:function(o,d,x){return o===d?x:o},sprintf:function(o,...d){return o.replace(ut,x=>nt(d.shift(),x))},renameKeys:function(o,d){const x={};for(let H in o)x[d(H)]=o[H];return x},memoizeMethod:function(o,d){for(let x in d){let H=Object.getOwnPropertyDescriptor(o,x).value,W=function(...Q){var ct;let ot=this[ct=`__${x}MemoizeCache`]||(this[ct]={}),at=JSON.stringify(Q);return ot[at]||(ot[at]=ft(H,this,Q)),ht(ot[at])};o[x]=W}},safeStringifyJSON:function(o){return JSON.stringify(o).replace(/[^\x00-\x7F]/g,d=>"\\u"+d.charCodeAt(0).toString(16).padStart(4,"0"))},variant:function(o,d={}){let x=Object.create(o);return Object.assign(x,d),x}}}()},4606:(i,a,r)=>{r(5074),up.viewport=function(){const t=up.util,e=up.element,n=up.fragment,s=new up.Config(()=>({viewportSelectors:["[up-viewport]","[up-fixed]"],fixedTopSelectors:["[up-fixed~=top]"],fixedBottomSelectors:["[up-fixed~=bottom]"],anchoredRightSelectors:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],revealSnap:200,revealPadding:0,revealTop:!1,revealMax:()=>.5*window.innerHeight,autoFocusVisible:({element:l,inputDevice:k})=>k==="key"||up.form.isField(l)})),u=new up.BodyShifter;function f(l,k){var g,p;return k=t.options(k),l=n.get(l,k),(k.layer=up.layer.get(l))||up.fail("Cannot reveal a detached element"),k.peel&&k.layer.peel(),new up.RevealMotion(l,k).start(),((p=(g=up.migrate).formerlyAsync)==null?void 0:p.call(g,"up.reveal()"))||!0}function w(l,{preventScroll:k,force:g,inputDevice:p,focusVisible:S}={}){if(g&&(l.hasAttribute("tabindex")||l.tabIndex!==-1||l.setAttribute("tabindex","-1")),p??(p=up.event.inputDevice),S??(S="auto"),S=t.evalAutoOption(S,s.autoFocusVisible,{element:l,inputDevice:p}),l.focus({preventScroll:!0,focusVisible:S}),A(l),l.classList.add(S?"up-focus-visible":"up-focus-hidden"),!k)return f(l)}function A(l){l==null||l.classList.remove("up-focus-hidden","up-focus-visible")}function C(l=location.hash,k){let g=I(l,k);if(g)return up.reveal(g,{top:!0})}function h(){return[T().tagName,...s.viewportSelectors].join()}function E(l,k={}){return n.get(l,k).closest(h())}function O(l,k={}){return l=n.get(l,k),e.around(l,h())}function T(){return document.scrollingElement}function M(){return e.root.clientWidth}function N(l){return up.fragment.tryToTarget(l)}function z(l){const k=t.copy(t.extractOptions(l));let g;return k.layer=up.layer.get(k),g=l[0]?[E(l[0],k)]:k.around?O(k.around,k):function(p={}){return n.all(h(),p)}(k),[g,k]}function G(l,k){for(let g of l){const p=N(g);g.scrollTop=k[p]||0}}function I(l,k={}){if(g=l,l=g==null?void 0:g.replace(/^#/,"")){const p=[e.attrSelector("id",l),"a"+e.attrSelector("name",l)].join();return n.get(p,k)}var g}up.compiler(s.selectorFn("anchoredRightSelectors"),function(l){return u.onAnchoredElementInserted(l)}),up.on("focusin",function({relatedTarget:l}){A(l)});const K=["selectionStart","selectionEnd","scrollLeft","scrollTop"];let m=!1;return up.on("scroll",{once:!0,beforeBoot:!0},()=>m=!0),up.on("up:framework:boot",function(){t.task(function(){if(!m)return C()})}),up.on(window,"hashchange",()=>C()),{reveal:f,revealHash:C,firstHashTarget:I,config:s,get:E,subtree:function(l,k={}){return l=n.get(l,k),e.subtree(l,h())},around:O,get root(){return T()},rootWidth:M,rootHeight:function(){return e.root.clientHeight},isRoot:function(l){return l===T()},rootScrollbarWidth:function(){return window.innerWidth-M()},saveScroll:function(...l){const[k,g]=z(l),p=g.location||g.layer.location;if(p){const S=function(D){let $={};for(let q of D){let c=N(q);c?$[c]=q.scrollTop:up.warn("up.viewport.saveScroll()","Cannot save scroll positions for untargetable viewport %o",q)}return $}(k);g.layer.lastScrollTops.set(p,S)}},restoreScroll:function(...l){const[k,g]=z(l),{location:p}=g.layer,S=g.layer.lastScrollTops.get(p);return!!S&&(G(k,S),up.puts("up.viewport.restoreScroll()","Restored scroll positions to %o",S),!0)},resetScroll:function(...l){const[k,g]=z(l);G(k,{})},saveFocus:function(l={}){const k=up.layer.get(l),g=l.location||k.location;if(g){const p=up.FocusCapsule.preserve(k);k.lastFocusCapsules.set(g,p)}},restoreFocus:function(l={}){const k=up.layer.get(l),g=l.location||k.location,p=l.layer.lastFocusCapsules.get(g);return!(!p||!p.restore(k)||(up.puts("up.viewport.restoreFocus()",'Restored focus to "%s"',p.target),0))},absolutize:function(l,k={}){var c;const g=E(l).getBoundingClientRect(),p=l.getBoundingClientRect(),S=new up.Rect({left:p.left-g.left,top:p.top-g.top,width:p.width,height:p.height});(c=k.afterMeasure)==null||c.call(k),e.setStyle(l,{position:l.style.position==="static"?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"});const D=e.createFromSelector("up-bounds");e.insertBefore(l,D),D.appendChild(l);const $=function(v,L){return S.left+=v,S.top+=L,e.setStyle(D,S,"px")};$(0,0);const q=l.getBoundingClientRect();return $(p.left-q.left,p.top-q.top),t.each(function(v=document){const L=["[up-fixed]"].concat(s.fixedTopSelectors).concat(s.fixedBottomSelectors);return v.querySelectorAll(L.join())}(l),e.fixedToAbsolute),{bounds:D,moveBounds:$}},focus:w,tryFocus:function(l,k){return w(l,k),l===document.activeElement},newStateCache:function(){return new up.FIFOCache({capacity:30,normalizeKey:t.matchableURL})},focusedElementWithin:function(l){const k=document.activeElement;if(up.fragment.contains(l,k))return k},copyCursorProps:function(l,k={}){for(let g of K)try{k[g]=l[g]}catch{}return k},bodyShifter:u}}(),up.focus=up.viewport.focus,up.reveal=up.viewport.reveal},3507:()=>{window.up={version:"3.9.3"}}},lt={};function F(i){var a=lt[i];if(a!==void 0)return a.exports;var r=lt[i]={exports:{}};return pt[i](r,r.exports,F),r.exports}F.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"cu",{value:!0})},F(3507),F(8374),F(7924),F(3924),F(6535),F(2811),F(9675),F(376),F(8272),F(4366),F(8010),F(4861),F(3469),F(4504),F(2406),F(3742),F(1653),F(1104),F(5949),F(1279),F(6346),F(3030),F(7948),F(2714),F(1752),F(8228),F(7050),F(9441),F(9489),F(7422),F(2200),F(278),F(9005),F(1569),F(2737),F(3635),F(1906),F(4158),F(3139),F(2214),F(5240),F(665),F(2828),F(2587),F(7031),F(8057),F(4850),F(7956),F(7403),F(6412),F(7965),F(7771),F(86),F(4552),F(5580),F(7101),F(6066),F(6387),F(5390),F(2460),F(7792),F(4308),F(8665),F(3645),F(7782),F(2705),F(606),F(5437),F(7974),F(6413),F(5221),F(2298),F(4517),F(7241),F(2723),F(8720),F(7885),F(4818),F(9634),F(8670),F(3535),F(4453),F(1897),F(8944),F(2667),F(4606),F(4034),F(1647),F(9443),F(3849),F(2851),F(454),F(9615),F(6774),up.framework.onEvaled()})();
